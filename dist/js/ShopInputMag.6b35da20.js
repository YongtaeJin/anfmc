(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ShopInputMag"],{"041a":function(t,i,e){},"414b":function(t,i,e){"use strict";var o=function(){var t=this,i=t._self._c;return i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:e,attrs:o}){return[i("v-btn",t._g(t._b({class:t.childClass,on:{click:function(i){return t.$emit("click")}}},"v-btn",{...o,...t.$attrs},!1),e),[t._t("default")],2)]}}],null,!0)},[i("span",[t._v(t._s(t.label))])])},s=[],a={name:"TooltipBtn",props:{label:{type:String,required:!0},childClass:[String,Object]}},n=a,l=e("2877"),c=Object(l["a"])(n,o,s,!1,null,null,null);i["a"]=c.exports},5597:function(t,i,e){"use strict";e("673c")},"578f":function(t,i,e){},6624:function(t,i,e){"use strict";e("e1db")},"673c":function(t,i,e){},7571:function(t,i,e){"use strict";e("578f")},9514:function(t,i,e){"use strict";e("041a")},acfa:function(t,i,e){"use strict";e.r(i);var o=function(){var t,i,e,o,s,a,n,l,c,r,d,h,u,v,f,p,_,m=this,g=m._self._c;return g("v-container",{attrs:{fluid:""}},[g("v-toolbar",{attrs:{height:"40px","background-color":"primary",dark:""}},[g("v-toolbar-title",[m._v("사업신청관리 :")]),g("v-col",{attrs:{sm:"3",md:"3"}},[g("v-select",{staticClass:"my-text-field no-padding",staticStyle:{"font-size":"0.8rem"},attrs:{items:m.shopList,"item-text":"n_shop","item-value":"i_shop",dense:""},on:{input:m.fetchData},model:{value:m.selectShop,callback:function(t){m.selectShop=t},expression:"selectShop"}})],1),g("v-spacer"),g("tooltip-btn",{attrs:{label:"조회"},on:{click:m.fetchData}},[g("v-icon",[m._v("mdi-magnify")])],1)],1),g("v-row",[g("v-col",{attrs:{col:"12",sm:"5",md:"5"}},[g("v-data-table",{staticClass:"elevation-1 text-no-wrap",attrs:{headers:m.head1,items:m.shopInputs,"item-key":"i_id","single-select":"","items-per-page":-1,"hide-default-footer":"",height:m.iframeHeight},scopedSlots:m._u([{key:"item",fn:function({item:t}){return[g("tr",{staticClass:"center-align",class:{row_select:t===m.selected1},on:{click:function(i){return m.selectItem1(t)}}},[g("td",{attrs:{align:"left"},on:{click:function(t){return m.clickDocItem(m.tabs)}}},[m._v(m._s(t.n_company)+" ")]),g("td",{class:{greencol:"1"==t.f_persioninfo,redcol:"1"!=t.f_persioninfo},on:{click:function(t){return m.clickDocItem(m.tabs)}}},[m._v(" "+m._s(m.datachk(t.f_persioninfo))+" ")]),g("td",{class:{greencol:"Y"==t.chk1,redcol:"Y"!=t.chk1},on:{click:function(t){return m.clickDocItem(0)}}},[m._v(" "+m._s(m.datachk(t.chk1))+" ")]),g("td",{class:{greencol:"Y"==t.chk2,redcol:"Y"!=t.chk2},on:{click:function(t){return m.clickDocItem(1)}}},[m._v(" "+m._s(m.datachk(t.chk2))+" ")]),g("td",{class:{greencol:"Y"==t.chk3,redcol:"Y"!=t.chk3},on:{click:function(t){return m.clickDocItem(2)}}},[m._v(" "+m._s(m.datachk(t.chk3))+" ")]),g("td",{class:{greencol:"Y"==t.f_dochk,redcol:"Y"!=t.f_dochk}},[g("u",[m._v(m._s(m.datachk2(t.f_dochk)))])]),g("td",{class:{greencol:"Y"==t.f_enarachk,redcol:"Y"!=t.f_enarachk}},[g("u",[m._v(m._s(m.datachk2(t.f_enarachk)))])])])]}}])})],1),g("v-col",{attrs:{col:"12",sm:"7",md:"7"}},[g("v-tabs",{attrs:{height:"30px","background-color":"primary",dark:""},model:{value:m.tabs,callback:function(t){m.tabs=t},expression:"tabs"}},[g("v-tab",{staticStyle:{"font-size":"0.7rem"},attrs:{value:"tbapage_1"}},[m._v("회사정보")]),g("v-tab",{staticStyle:{"font-size":"0.7rem"},attrs:{value:"tbapage_2"}},[m._v("신청서류")]),g("v-tab",{staticStyle:{"font-size":"0.7rem"},attrs:{value:"tbapage_3"}},[m._v("추가서류")])],1),g("v-tabs-items",{model:{value:m.tabs,callback:function(t){m.tabs=t},expression:"tabs"}},[g("v-tab-item",[g("v-card-text",[g("table",{staticClass:"type03"},[g("tr",[g("th",[m._v("업체명")]),g("td",[m._v(m._s(null===(t=m.itemInput)||void 0===t?void 0:t.n_company))])]),g("tr",[g("th",[m._v("사업자번호")]),g("td",[m._v(m._s(null===(i=m.itemInput)||void 0===i?void 0:i.i_regno))])]),g("tr",[g("th",[m._v("대표자")]),g("td",[m._v(m._s(null===(e=m.itemInput)||void 0===e?void 0:e.n_person))])]),g("tr",[g("th",[m._v("대표자주민번호")]),g("td",[m._v(m._s(null===(o=m.itemInput)||void 0===o?void 0:o.i_presno))])]),g("tr",[g("th",[m._v("연락처(유선)")]),g("td",[m._v(m._s(null===(s=m.itemInput)||void 0===s?void 0:s.t_tel1))])]),g("tr",[g("th",[m._v("휴대폰")]),g("td",[m._v(m._s(null===(a=m.itemInput)||void 0===a?void 0:a.t_tel2))])]),g("tr",[g("th",[m._v("이메일")]),g("td",[m._v(m._s(null===(n=m.itemInput)||void 0===n?void 0:n.i_email))])]),g("tr",[g("th",[m._v("사업자구분")]),g("td",[m._v(m._s(null===(l=m.itemInput)||void 0===l?void 0:l.f_saugup))])]),g("tr",[g("th",[m._v("이전중진공사업")]),g("td",[m._v(m._s(null===(c=m.itemInput)||void 0===c?void 0:c.f_run))])]),g("tr",[g("th",[m._v("3년 표준 재무제표")]),g("td",[m._v(m._s(null===(r=m.itemInput)||void 0===r?void 0:r.f_dart))])]),g("tr",[g("th",[m._v("이나라도움 아이디")]),g("td",[m._v(m._s(null===(d=m.itemInput)||void 0===d?void 0:d.t_enarainfo))])]),g("tr",[g("th",[m._v("이나라도움 패스워드")]),g("td",[m._v(m._s(null===(h=m.itemInput)||void 0===h?void 0:h.t_enarainfopw))])]),g("tr",[g("th",[m._v("우편번호")]),g("td",[m._v(m._s(null===(u=m.itemInput)||void 0===u?void 0:u.i_post))])]),g("tr",[g("th",[m._v("주소")]),g("td",[m._v(m._s(null===(v=m.itemInput)||void 0===v?void 0:v.t_addr1))])]),g("tr",[g("th",[m._v("세부 주소")]),g("td",[m._v(m._s(null===(f=m.itemInput)||void 0===f?void 0:f.t_addr2))])])])])],1),g("v-tab-item",[g("shop-input-mag-file-form",{attrs:{fileLists:m.fileAddsA,companyName:null===(p=m.selected1)||void 0===p?void 0:p.n_company},on:{process:m.saveDocProcess,mailSend:m.mailSend}})],1),g("v-tab-item",[g("shop-input-mag-file-form",{attrs:{fileLists:m.fileAddsB,companyName:null===(_=m.selected1)||void 0===_?void 0:_.n_company},on:{process:m.saveDocProcess,mailSend:m.mailSend}})],1)],1)],1)],1),g("tiptab-mail",{ref:"dialog",attrs:{label:"메일발송",body_content:this.mailinfo.body,mail_title:this.mailinfo.title,itemInput:this.itemInput,"max-width":"900","max-height":"1300",persistent:""},on:{onSend:m.sendMail}}),g("ez-dialog-2",{ref:"ez_wait",attrs:{label:"처리중","max-width":"200",persistent:"",color:"primary"}})],1)},s=[],a=(e("14d9"),function(){var t=this,i=t._self._c;return i("v-form",{ref:"form"},[i("v-toolbar",{attrs:{color:"#c2fad8",height:"30px"}},[t.fileLists.length?i("v-btn",{attrs:{color:"primary","x-small":""},on:{click:function(i){return t.process(t.fileLists)}}},[t._v("서류처리")]):t._e(),t._v("    "),t.fileLists.length?i("v-btn",{attrs:{color:"primary","x-small":""},on:{click:t.mailSend}},[t._v("메일발송")]):t._e(),i("v-spacer"),t.fileLists.length?i("v-checkbox",{staticClass:"small-checkbox",attrs:{label:"서류명","hide-details":"",color:"primary"},model:{value:t.f_downchk2,callback:function(i){t.f_downchk2=i},expression:"f_downchk2"}}):t._e(),t._v("   "),t.fileLists.length?i("v-btn",{attrs:{color:"primary","x-small":""},on:{click:t.alldownLoad}},[t._v("일괄내려받기")]):t._e()],1),i("v-data-table",{staticClass:"elevation-1 text-no-wrap",attrs:{headers:t.fileHeaders,"single-select":"",items:t.fileLists,"items-per-page":-1,"hide-default-footer":""},scopedSlots:t._u([{key:"item",fn:function({item:e}){return[i("tr",{staticClass:"center-align",class:{row_select:e===t.selected},on:{click:function(i){return t.selectItem(e)}}},[i("td",{attrs:{align:"center"}},[t._v(" "+t._s(e.i_ser)+" ")]),i("td",{class:{redcol:1==e.f_yn,greencol:0==e.f_yn},attrs:{align:"center"}},[t._v(t._s(t.f_ynchk(e.f_yn))+" ")]),i("td",{class:{redcol:"N"==e.f_noact,greencol:"Y"==e.f_noact,bluecol:"I"==e.f_noact},attrs:{align:"center"},on:{dblclick:function(i){return t.docProcess(e)}}},[i("u",[t._v(t._s(t.f_noact(e.f_noact)))])]),i("td",{attrs:{align:"left"}},[t._v(" "+t._s(e.n_filename)+" ")]),i("td",{attrs:{align:"left"}},[t._v(" "+t._s(e.n_file)+" ")]),i("td",{attrs:{align:"center"}},[e.t_att?i("v-btn",{attrs:{"x-small":""},on:{click:function(i){return t.downLoad(e)}}},[i("v-icon",{staticClass:"small-checkbox"},[t._v("mdi-file-download")])],1):t._e()],1)])]}}])})],1)}),n=[],l=(e("64f2"),e("9e7e")),c={name:"ShopInputMagFileForm",props:{fileLists:{type:Object,default:null},companyName:{type:String,default:null}},data(){return{fileHeaders:[{text:"순번",value:"i_ser",sortable:!1,align:"center",width:"30px"},{text:"필수",value:"f_yn",sortable:!1,align:"center",width:"30px"},{text:"서류",value:"f_noact",sortable:!1,align:"center",width:"40px"},{text:"첨부서류",value:"n_filename",sortable:!1,align:"center"},{text:"첨부파일명",value:"n_file",sortable:!1,align:"center"},{text:"DOWN",value:"t_att",sortable:!1,align:"center",width:"55px"}],selected:[],f_downchk1:1,f_downchk2:0}},created(){this.init()},watch:{},methods:{init(){},f_ynchk(t){return 1==t?"필수":"선택"},f_noact(t){return"I"==t?"등록":"Y"==t?"확인":"N"==t?"반려":"R"==t?"수정":""},docProcess(t){t.f_noact&&(t.f_noact="Y"==t.f_noact?"N":"Y",t.f_edit="1")},selectItem(t){this.selected!=t&&(this.selected=t)},async process(t){this.$emit("process",t)},async mailSend(){this.$emit("mailSend")},async downLoad(t){const i=t.n_file,e=await this.$axios.get("/api/shopinfo/getFileDown?path="+t.t_att);e?(Object(l["save"])(e,i),alert("File Donw load Click !!!!!")):await this.$ezNotify.alert("다운로드 실패 !!","오류",{})},async alldownLoad(){e("df7c");let t="1";if(this.f_downchk2&&(t="2"),this.fileLists){const i=await this.$axios.get(`/api/shopinfo/getFileDownZip?i_shop=${this.fileLists[0].i_shop}&i_id=${this.fileLists[0].i_id}&f_gubun=${this.fileLists[0].f_gubun}&f_filetype=${t}`);i?(Object(l["save"])(i,this.companyName+".zip"),alert("File Donw load Click !!!!!")):await this.$ezNotify.alert("다운로드 실패 !!","오류")}}}},r=c,d=e("2877"),h=Object(d["a"])(r,a,n,!1,null,null,null),u=h.exports,v=e("414b"),f=function(){var t=this,i=t._self._c;return i("v-dialog",t._b({model:{value:t.dialog,callback:function(i){t.dialog=i},expression:"dialog"}},"v-dialog",t.$attrs,!1),[i("v-card",[i("v-toolbar",[i("v-toolbar-title",[t._v(t._s(t.label))]),i("v-spacer"),i("v-btn",{attrs:{icon:""},on:{click:t.close}},[i("v-icon",[t._v("mdi-close")])],1)],1),i("v-card-text",[t._t("default")],2),i("ez-wait")],1)],1)},p=[],_=function(){var t=this,i=t._self._c;return i("div",[i("br"),i("v-progress-circular",{staticClass:"ml-12",attrs:{size:100,width:"15",color:"amber",indeterminate:""}}),i("br"),i("br"),i("br")],1)},m=[],g={},b=g,k=Object(d["a"])(b,_,m,!1,null,null,null),y=k.exports,x={components:{EzWait:y},name:"ezDialog2",props:{label:{type:String,required:!0}},data(){return{dialog:!1}},methods:{close(){this.dialog=!1,this.$emit("onClose")},open(){this.$emit("onOpen"),this.dialog=!0}}},w=x,A=Object(d["a"])(w,f,p,!1,null,null,null),I=A.exports,S=function(){var t,i=this,e=i._self._c;return e("v-dialog",i._b({model:{value:i.dialog,callback:function(t){i.dialog=t},expression:"dialog"}},"v-dialog",i.$attrs,!1),[e("v-card",[e("v-toolbar",{staticClass:"elevation-4",attrs:{color:"primary",density:"compact"}},[e("v-toolbar-title",[i._v(i._s(i.mail_title)+" 메일")]),e("v-spacer"),e("v-spacer"),e("v-spacer"),null!==(t=this.itemInput)&&void 0!==t&&t.i_id?e("v-btn",{attrs:{color:"primary"},on:{click:i.send}},[i._v("메일발송")]):i._e(),e("v-spacer"),e("v-btn",{attrs:{dark:""},on:{click:i.close}},[i._v("닫기")])],1),e("table",[e("tr",[e("td",{attrs:{width:"300px"}},[e("v-text-field",{attrs:{label:"수신처 : ","hide-details":""},model:{value:i.tomail,callback:function(t){i.tomail=t},expression:"tomail"}})],1),e("td",{attrs:{width:"200px"}},[e("tooltip-btn",{attrs:{icon:"",label:"회원 메일"},on:{click:function(t){return i.getEmail("U")}}},[e("v-icon",{attrs:{large:""}},[i._v("mdi-email-check")])],1),e("tooltip-btn",{attrs:{icon:"",label:"사업등록 메일"},on:{click:function(t){return i.getEmail("S")}}},[e("v-icon",{attrs:{large:""}},[i._v("mdi-email-mark-as-unread")])],1)],1),e("td",{attrs:{width:"300px"}},[e("v-text-field",{attrs:{label:"참조 : ","hide-details":""},model:{value:i.ccmail,callback:function(t){i.ccmail=t},expression:"ccmail"}})],1),e("td",[e("tooltip-btn",{attrs:{icon:"",label:"사용자 메일"},on:{click:function(t){return i.getEmail("M")}}},[e("v-icon",{attrs:{large:""}},[i._v("mdi-email-mark-as-unread")])],1)],1)])]),e("v-card-text",[i._t("default")],2),i.editor?e("div",{staticClass:"editor"},[e("menu-bar",{staticClass:"editor__header",attrs:{editor:i.editor}}),e("menu-color",{staticClass:"editor__header",attrs:{editor:i.editor}}),e("editor-content",{staticClass:"editor__content",attrs:{editor:i.editor}})],1):i._e()],1)],1)},C=[],$=e("41b5"),L=e("ec4e"),F=e("2c34"),H=e("f798"),B=e("8340"),D=e("3cfc"),M=e("2f5a"),j=e("71d89"),z=e("d103"),O=e("f61a"),Y=e("8083"),N=e("d3a5"),E=function(){var t=this,i=t._self._c;return i("div",[t._l(t.items,(function(e,o){return["divider"===e.type?i("div",{key:"divider"+o,staticClass:"divider"}):i("menu-item",t._b({key:o},"menu-item",e,!1))]}))],2)},T=[],q=function(){var t=this,i=t._self._c;return i("button",{staticClass:"menu-item",class:{"is-active":t.isActive?t.isActive():null},attrs:{title:t.title},on:{click:t.action}},[i("svg",{staticClass:"remix"},[i("use",{attrs:{"xlink:href":`${t.remixiconUrl}#ri-${t.icon}`}})])])},P=[],U=e("29a1"),R=e.n(U),J={props:{icon:{type:String,required:!0},title:{type:String,required:!0},action:{type:Function,required:!0},isActive:{type:Function,default:null}},data(){return{remixiconUrl:R.a}}},W=J,K=(e("5597"),Object(d["a"])(W,q,P,!1,null,null,null)),Z=K.exports,G={components:{MenuItem:Z},props:{editor:{type:Object,required:!0}},data(){return{items:[{icon:"align-left",title:"Left",action:()=>this.editor.chain().focus().setTextAlign("justify").run(),isActive:()=>this.editor.isActive({textAlign:"justify"})},{icon:"align-center",title:"Center",action:()=>this.editor.chain().focus().setTextAlign("center").run(),isActive:()=>this.editor.isActive({textAlign:"center"})},{icon:"align-right",title:"Right",action:()=>this.editor.chain().focus().setTextAlign("right").run(),isActive:()=>this.editor.isActive({textAlign:"right"})},{type:"divider"},{icon:"bold",title:"Bold",action:()=>this.editor.chain().focus().toggleBold().run(),isActive:()=>this.editor.isActive("bold")},{icon:"italic",title:"Italic",action:()=>this.editor.chain().focus().toggleItalic().run(),isActive:()=>this.editor.isActive("italic")},{icon:"strikethrough",title:"Strike",action:()=>this.editor.chain().focus().toggleStrike().run(),isActive:()=>this.editor.isActive("strike")},{icon:"code-view",title:"Code",action:()=>this.editor.chain().focus().toggleCode().run(),isActive:()=>this.editor.isActive("code")},{icon:"mark-pen-line",title:"Highlight",action:()=>this.editor.chain().focus().toggleHighlight().run(),isActive:()=>this.editor.isActive("highlight")},{type:"divider"},{icon:"h-1",title:"Heading 1",action:()=>this.editor.chain().focus().toggleHeading({level:1}).run(),isActive:()=>this.editor.isActive("heading",{level:1})},{icon:"h-2",title:"Heading 2",action:()=>this.editor.chain().focus().toggleHeading({level:2}).run(),isActive:()=>this.editor.isActive("heading",{level:2})},{icon:"h-3",title:"Heading 3",action:()=>this.editor.chain().focus().toggleHeading({level:3}).run(),isActive:()=>this.editor.isActive("heading",{level:3})},{icon:"h-4",title:"Heading 4",action:()=>this.editor.chain().focus().toggleHeading({level:4}).run(),isActive:()=>this.editor.isActive("heading",{level:4})},{icon:"paragraph",title:"Paragraph",action:()=>this.editor.chain().focus().setParagraph().run(),isActive:()=>this.editor.isActive("paragraph")},{icon:"list-unordered",title:"Bullet List",action:()=>this.editor.chain().focus().toggleBulletList().run(),isActive:()=>this.editor.isActive("bulletList")},{icon:"list-ordered",title:"Ordered List",action:()=>this.editor.chain().focus().toggleOrderedList().run(),isActive:()=>this.editor.isActive("orderedList")},{icon:"list-check-2",title:"Task List",action:()=>this.editor.chain().focus().toggleTaskList().run(),isActive:()=>this.editor.isActive("taskList")},{icon:"code-box-line",title:"Code Block",action:()=>this.editor.chain().focus().toggleCodeBlock().run(),isActive:()=>this.editor.isActive("codeBlock")},{type:"divider"},{icon:"double-quotes-l",title:"Blockquote",action:()=>this.editor.chain().focus().toggleBlockquote().run(),isActive:()=>this.editor.isActive("blockquote")},{icon:"separator",title:"Horizontal Rule",action:()=>this.editor.chain().focus().setHorizontalRule().run()},{type:"divider"},{icon:"text-wrap",title:"Hard Break",action:()=>this.editor.chain().focus().setHardBreak().run()},{icon:"format-clear",title:"Clear Format",action:()=>this.editor.chain().focus().clearNodes().unsetAllMarks().run()},{type:"divider"},{icon:"arrow-go-back-line",title:"Undo",action:()=>this.editor.chain().focus().undo().run()},{icon:"arrow-go-forward-line",title:"Redo",action:()=>this.editor.chain().focus().redo().run()}]}}},Q=G,V=(e("7571"),Object(d["a"])(Q,E,T,!1,null,null,null)),X=V.exports,tt=function(){var t=this,i=t._self._c;return t.editor?i("div",[t._v(" Font Color >>> : "),i("input",{attrs:{type:"color"},domProps:{value:t.editor.getAttributes("textStyle").color},on:{input:function(i){t.editor.chain().focus().setColor(i.target.value).run()}}}),i("v-btn",{staticClass:"red white--text",class:{"is-active":t.editor.isActive("textStyle",{color:"#FF3434"})},attrs:{"x-small":""},on:{click:function(i){t.editor.chain().focus().setColor("#FF3434").run()}}},[t._v("빨강")]),i("v-btn",{staticClass:"yellow",class:{"is-active":t.editor.isActive("textStyle",{color:"#FAF594"})},attrs:{"x-small":""},on:{click:function(i){t.editor.chain().focus().setColor("#FAF594").run()}}},[t._v("노랑")]),i("v-btn",{staticClass:"blue white--text",class:{"is-active":t.editor.isActive("textStyle",{color:"#70CFF8"})},attrs:{"x-small":""},on:{click:function(i){t.editor.chain().focus().setColor("#70CFF8").run()}}},[t._v("파랑")]),i("v-btn",{staticClass:"green white--text",class:{"is-active":t.editor.isActive("textStyle",{color:"#B9F18D"})},attrs:{"x-small":""},on:{click:function(i){t.editor.chain().focus().setColor("#B9F18D").run()}}},[t._v("노색")]),i("v-btn",{staticClass:"black white--text",class:{"is-active":t.editor.isActive("textStyle",{color:"#000000"})},attrs:{"x-small":""},on:{click:function(i){t.editor.chain().focus().setColor("#000000").run()}}},[t._v("검정")]),i("v-btn",{staticClass:"white",class:{"is-active":t.editor.isActive("textStyle",{color:"#FFFFFF"})},attrs:{"x-small":""},on:{click:function(i){t.editor.chain().focus().setColor("#FFFFFF").run()}}},[t._v("하얀")])],1):t._e()},it=[],et={props:{editor:{type:Object,required:!0}},methods:{clickItem(){console.log("clickItem"),console.log(this.editor.getHTML())}}},ot=et,st=Object(d["a"])(ot,tt,it,!1,null,null,null),at=st.exports,nt={components:{EditorContent:N["b"],MenuBar:X,MenuColor:at,TooltipBtn:v["a"]},name:"TiptabMail",props:{label:{type:String,required:!0},itemInput:{type:Object,default:null},body_content:{type:String,default:null},mail_title:{type:String,default:null}},data(){return{dialog:!1,editor:null,html:null,tomail:"",ccmail:""}},mounted(){this.editor=new N["a"]({content:this.body_content,extensions:[j["a"].configure({history:!0}),$["b"],L["b"],F["b"],Y["a"],O["a"],z["a"].configure({types:["heading","paragraph"]}),B["a"].configure({multicolor:!0}),M["a"],D["a"],H["a"].configure({limit:1e4})],onUpdate({editor:t}){}})},beforeUnmount(){this.editor.destroy()},watch:{body_content(){this.editor.commands.setContent(this.body_content)}},methods:{close(){this.$emit("onClose"),this.dialog=!1},open(){this.$emit("onOpen"),this.dialog=!0,this.tomail="",this.ccmail=""},send(){this.tomail?(this.html=this.editor.getHTML(),this.$emit("onSend",this.mail_title,this.tomail,this.ccmail,this.html)):this.$ezNotify.alert("수신처 미입력 .... ","확인")},async getEmail(t){let i=null;if("U"==t?i=`/api/shopinfo/shopgetEmail?i_id=${this.itemInput.i_id}&gubun=${t}`:"S"==t?i=`/api/shopinfo/shopgetEmail?i_shop=${this.itemInput.i_shop}&i_id=${this.itemInput.i_id}&gubun=${t}`:"M"==t&&(i="/api/shopinfo/shopgetEmail?&gubun=TOKEN"),i){const e=await this.$axios.get(i);e.length&&("M"==t?this.ccmail=e[0].to_email:this.tomail=e[0].to_email)}}}},lt=nt,ct=(e("6624"),e("9514"),Object(d["a"])(lt,S,C,!1,null,null,null)),rt=ct.exports,dt={components:{ShopInputMagFileForm:u,TooltipBtn:v["a"],EzDialog2:I,TiptabMail:rt},name:"ShopInputMag",data(){return{iframeHeight:500,tabs:0,selectShop:null,shopList:[],head1:[{text:"업체명",value:"n_company",align:"center",sortable:!1},{text:"정보동의",value:"f_persioninfo",sortable:!1,align:"center",width:"10%"},{text:"회사정보",value:"chk1",sortable:!1,align:"center",width:"10%"},{text:"신청서류",value:"chk2",sortable:!1,align:"center",width:"10%"},{text:"추가정보",value:"chk3",sortable:!1,align:"center",width:"10%"},{text:"공방서류",value:"f_dochk",sortable:!1,align:"center",width:"10%"},{text:"e 나라",value:"f_enarachk",sortable:!1,align:"center",width:"10%"}],shopInputs:[],selected1:[],itemInput:null,fileAddsA:[],fileAddsB:[],mailinfo:{title:"",to_email:"",cc_email:"",body:""},mailBody:""}},beforeCreate(){var t;null!==(t=this.$store.state.user.member)&&void 0!==t&&t.c_com||this.$router.push("/").catch(()=>{this.$toast.error("잘못된 접급 입니다.")})},mounted(){window.addEventListener("resize",this.adjustIframeHeight),this.adjustIframeHeight(),this.init(),this.fetchData()},beforeDestroy(){window.removeEventListener("resize",this.adjustIframeHeight)},methods:{adjustIframeHeight(){const t=window.innerHeight;this.iframeHeight=t-200},async init(){this.shopList=await this.$axios.get("/api/shopinfo/getShopList"),this.shopList.length&&(this.selectShop=this.shopList[0].i_shop,await this.fetchData())},async fetchData(){if(!this.selectShop)return void(this.shopList=[]);const t={i_shop:this.selectShop};this.shopInputs=await this.$axios.post("/api/shopinfo/getShopInputMag",t)},async selectItem1(t){if(this.selected1==t)return;const i=t;this.isLoading=!0,this.selected1=t,this.itemInput=await this.$axios.post("/api/shopinfo/getShopInputMag1",t),i.f_gubun="1",this.fileAddsA=await this.$axios.post("/api/shopinfo/getShopInputMag2",i),i.f_gubun="2",this.fileAddsB=await this.$axios.post("/api/shopinfo/getShopInputMag2",i),this.isLoading=!1},datachk(t){return"-"==t?"":"1"==t||"Y"==t?"완료":"미등록"},datachk2(t){return"1"==t||"Y"==t?"완료":"미완료"},clickDocItem(t){this.tabs=t},async mailSend(){let t="<p>상기 제목 관련 하여 아래와 같이 첨부 서류 확인 결과 전달 드립니다.</p><p>";1===this.tabs?(this.mailinfo.title="스마트공방 신청 서류 확인 안내",t=t+"공방 신청 서류</p>"+await this.makeBody(this.fileAddsA)):2===this.tabs&&(this.mailinfo.title="스마트공방 추가 서류 확인 안내",t=t+"공방 추가 서류</p>"+await this.makeBody(this.fileAddsB)),this.mailinfo.body=t,this.$refs.dialog.open()},async sendMail(t,i,e,o){this.$refs.ez_wait.open(),this.mailinfo.title=t,this.mailinfo.to_email=i,this.mailinfo.cc_email=e,this.mailinfo.body=o;const s=await this.$axios.post("/api/shopinfo/postMailSend",this.mailinfo);this.$refs.ez_wait.close(),"ok"==s&&(this.$ezNotify.alert("정상적으로 메일 발송 하였습니다..... ","성공"),this.$refs.dialog.close())},async makeBody(t){let i="";return t.forEach(t=>{let e="Y"==t.f_noact?"접수":"N"==t.f_noact?"반려":"I"==t.f_noact||"R"==t.f_noact?"검토":"미등록";i+=`<p>${"Y"==t.f_noact?"":'<span style="color:red"'}>${t.n_filename} : 서류${e}${"Y"==t.f_noact?"":"</span>"}</p>`}),i+="<p>반려된 첨부서류에 대해서 재 등록 부탁 드립니다.</p>",i+="<p></p>감사 합니다.",i},async saveDocProcess(t){for(let i in t)if("1"==t[i].f_edit){this.$axios.post("/api/shopinfo/ShopInputMag2Save",t[i])}}}},ht=dt,ut=Object(d["a"])(ht,o,s,!1,null,null,null);i["default"]=ut.exports},e1db:function(t,i,e){}}]);
//# sourceMappingURL=ShopInputMag.6b35da20.js.map