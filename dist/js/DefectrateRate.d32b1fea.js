(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DefectrateRate"],{"414b":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:i}){return[t("v-btn",e._g(e._b({class:e.childClass,on:{click:function(t){return e.$emit("click")}}},"v-btn",{...i,...e.$attrs},!1),a),[e._t("default")],2)]}}],null,!0)},[t("span",[e._v(e._s(e.label))])])},s=[],r={name:"TooltipBtn",props:{label:{type:String,required:!0},childClass:[String,Object]}},o=r,l=a("2877"),n=Object(l["a"])(o,i,s,!1,null,null,null);t["a"]=n.exports},c68f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("v-container",{attrs:{fluid:""}},[t("v-toolbar",{attrs:{height:"40px","background-color":"primary",dark:""}},[t("v-toolbar-title",[e._v("불양율 분석")]),t("v-spacer"),t("tooltip-btn",{attrs:{label:"조회"},on:{click:e.view}},[t("v-icon",[e._v("mdi-magnify")])],1)],1),t("v-card",{staticClass:"my-card text-input-blue my-text-fontsize",staticStyle:{display:"flex",height:"34px"}},[t("div",{staticStyle:{display:"flex"}},[t("div",{staticStyle:{width:"70px"}},[t("v-text-field",{staticClass:"no-padding",attrs:{value:"  생산예정일 : ",readonly:"",dense:"","hide-details":""}})],1),t("input-dateft",{attrs:{value2:e.form.sDate2},on:{"update:value2":function(t){return e.$set(e.form,"sDate2",t)}},model:{value:e.form.sDate1,callback:function(t){e.$set(e.form,"sDate1",t)},expression:"form.sDate1"}})],1)]),t("v-row",[t("v-col",[t("v-toolbar",{attrs:{height:"25px",color:"accent"}},[t("v-toolbar-title",[e._v("공정별")])],1),t("v-data-table",{ref:"table",staticClass:"elevation-1 text-no-wrap",attrs:{headers:e.Head1,items:e.headItem1,"item-key":"c_process","single-select":"","items-per-page":-1,"hide-default-footer":"","footer-props":{"items-per-page-options":[10,20,30,40,50,100,-1]},height:"300px","max-height":"300px"},on:{"click:row":e.rowSelectHead1},scopedSlots:e._u([{key:"item.p_per",fn:function({item:a}){return[t("v-progress-linear",{attrs:{value:a.p_per,color:"red",height:"18"}},[t("strong",[e._v(e._s(a.p_per)+"%")])])]}}],null,!0),model:{value:e.selectedM1,callback:function(t){e.selectedM1=t},expression:"selectedM1"}})],1),t("v-col",[t("v-toolbar",{attrs:{height:"25px",color:"accent"}},[t("v-toolbar-title",[e._v("품목별")])],1),t("v-data-table",{ref:"table2",staticClass:"elevation-1 text-no-wrap",attrs:{headers:e.Head2,items:e.headItem2,"item-key":"c_item","single-select":"","items-per-page":-1,"hide-default-footer":"","footer-props":{"items-per-page-options":[10,20,30,40,50,100,-1]},height:"300px","max-height":"300px"},on:{"click:row":e.rowSelectHead2},scopedSlots:e._u([{key:"item.p_per",fn:function({item:a}){return[t("v-progress-linear",{attrs:{value:a.p_per,color:"red",height:"18"}},[t("strong",[e._v(e._s(a.p_per)+"%")])])]}}],null,!0),model:{value:e.selectedM2,callback:function(t){e.selectedM2=t},expression:"selectedM2"}})],1),t("v-col",[t("v-toolbar",{attrs:{height:"25px",color:"accent"}},[t("v-toolbar-title",[e._v("원인별")])],1),t("v-data-table",{ref:"table3",staticClass:"elevation-1 text-no-wrap",attrs:{headers:e.Head3,items:e.headItem3,"item-key":"f_cause","single-select":"","items-per-page":-1,"hide-default-footer":"","footer-props":{"items-per-page-options":[10,20,30,40,50,100,-1]},height:"300px","max-height":"300px"},on:{"click:row":e.rowSelectHead3},scopedSlots:e._u([{key:"item.p_per",fn:function({item:a}){return[t("v-progress-linear",{attrs:{value:a.p_per,color:"red",height:"18"}},[t("strong",[e._v(e._s(e.getCasueper(a))+"%")])])]}}],null,!0),model:{value:e.selectedM3,callback:function(t){e.selectedM3=t},expression:"selectedM3"}})],1)],1),t("v-row",[e.tabIndex<=1?t("v-col",[t("v-toolbar",{attrs:{height:"25px",color:"accent"}},[t("v-toolbar-title",[e._v(e._s(e.getProcName))])],1),t("v-data-table",{ref:"table_proc",staticClass:"elevation-1 text-no-wrap",attrs:{headers:e.ProcHead,items:e.procFilter,"item-key":"i_makeser","single-select":"","items-per-page":-1,"hide-default-footer":"","footer-props":{"items-per-page-options":[10,20,30,40,50,100,-1]},height:e.iframeHeight},on:{"click:row":e.rowSelectProc},scopedSlots:e._u([{key:"item.f_cause",fn:function({item:t}){return[e._v(" "+e._s(e.getErrtypename(t.f_cause))+" ")]}}],null,!0),model:{value:e.procS,callback:function(t){e.procS=t},expression:"procS"}})],1):e._e(),2==e.tabIndex?t("v-col",[t("v-toolbar",{attrs:{height:"25px",color:"accent"}},[t("v-toolbar-title",[e._v(e._s(e.getItemName))])],1),t("v-data-table",{ref:"table_item",staticClass:"elevation-1 text-no-wrap",attrs:{headers:e.ItemHead,items:e.itemFilter,"item-key":"i_makeser","single-select":"","items-per-page":-1,"hide-default-footer":"","footer-props":{"items-per-page-options":[10,20,30,40,50,100,-1]},height:e.iframeHeight},on:{"click:row":e.rowSelectItem},scopedSlots:e._u([{key:"item.f_cause",fn:function({item:t}){return[e._v(" "+e._s(e.getErrtypename(t.f_cause))+" ")]}}],null,!0),model:{value:e.itemS,callback:function(t){e.itemS=t},expression:"itemS"}})],1):e._e(),3==e.tabIndex?t("v-col",[t("v-toolbar",{attrs:{height:"25px",color:"accent"}},[t("v-toolbar-title",[e._v(e._s(e.getCauseName))])],1),t("v-data-table",{ref:"table_cause",staticClass:"elevation-1 text-no-wrap",attrs:{headers:e.CauseHead,items:e.causeFilter,"item-key":"i_makeser","single-select":"","items-per-page":-1,"hide-default-footer":"","footer-props":{"items-per-page-options":[10,20,30,40,50,100,-1]},height:e.iframeHeight},on:{"click:row":e.rowSelectCause},scopedSlots:e._u([{key:"item.f_cause",fn:function({item:t}){return[e._v(" "+e._s(e.getErrtypename(t.f_cause))+" ")]}}],null,!0),model:{value:e.itemS,callback:function(t){e.itemS=t},expression:"itemS"}})],1):e._e()],1)],1)},s=[],r=(a("13d5"),a("414b")),o=a("d1b1"),l=a("64f2"),n={components:{InputDateft:o["a"],TooltipBtn:r["a"]},name:"DefectrateRate",mounted(){window.addEventListener("resize",this.adjustIframeHeight),this.adjustIframeHeight(),this.init()},beforeDestroy(){window.removeEventListener("resize",this.adjustIframeHeight)},data(){return{comma:l["comma"],form:{sDate1:"",sDate2:"",sVend:""},iframeHeight:500,itemSelect:!1,tabIndex:3,errType:[],Head1:[{text:"공정코드",value:"c_process",sortable:!1,align:"center",width:"50px"},{text:"공정명",value:"n_process",sortable:!1,align:"center",width:"60px"},{text:"지시수량",value:"m_cnt",sortable:!1,align:"center",width:"50px"},{text:"불량수량",value:"m_err",sortable:!1,align:"center",width:"50px"},{text:"불량률",value:"p_per",sortable:!1,align:"center",width:"50px"}],Head2:[{text:"품목코드",value:"c_item",sortable:!1,align:"center",width:"50px"},{text:"항목(폼목)",value:"n_item",sortable:!1,align:"center",width:"100px"},{text:"지시수량",value:"m_ordcnt",sortable:!1,align:"center",width:"50px"},{text:"불량수량",value:"m_err",sortable:!1,align:"center",width:"50px"},{text:"불량률",value:"p_per",sortable:!1,align:"center",width:"50px"}],Head3:[{text:"불량원인",value:"n_cause",sortable:!1,align:"center",width:"80px"},{text:"불량수량",value:"m_err",sortable:!1,align:"center",width:"50px"},{text:"불량률",value:"p_per",sortable:!1,align:"center",width:"50px"}],headItem1:[],headItem1Info:[],selectedM1:[],headItem2:[],headItem2Info:[],selectedM2:[],headItem3:[],headItem3Info:[],selectedM3:[],ProcHead:[{text:"공정코드",value:"c_process",sortable:!1,align:"center",width:"50px"},{text:"공정명",value:"n_process",sortable:!1,align:"center",width:"60px"},{text:"작업일",value:"s_workday",sortable:!1,align:"center",width:"60px"},{text:"발주번호",value:"i_orderno",sortable:!1,align:"center",width:"60px"},{text:"거래처",value:"n_vend",sortable:!1,align:"center",width:"80px"},{text:"항목(품목)",value:"n_item",sortable:!1,align:"center",width:"90px"},{text:"작업자",value:"n_empnm",sortable:!1,align:"center",width:"60px"},{text:"불량수량",value:"m_err",sortable:!1,align:"center",width:"50px"},{text:"불량원인",value:"f_cause",sortable:!1,align:"center",width:"60px"}],procItems:[],procFilter:[],procInfo:[],procS:[],ItemHead:[{text:"폼목코드",value:"c_item",sortable:!1,align:"center",width:"50px"},{text:"항목(폼목)",value:"n_item",sortable:!1,align:"center",width:"100px"},{text:"작업일",value:"s_workday",sortable:!1,align:"center",width:"60px"},{text:"공정코드",value:"c_process",sortable:!1,align:"center",width:"50px"},{text:"공정명",value:"n_process",sortable:!1,align:"center",width:"60px"},{text:"발주번호",value:"i_orderno",sortable:!1,align:"center",width:"60px"},{text:"거래처",value:"n_vend",sortable:!1,align:"center",width:"80px"},{text:"작업자",value:"n_empnm",sortable:!1,align:"center",width:"60px"},{text:"불량수량",value:"m_err",sortable:!1,align:"center",width:"50px"},{text:"불량원인",value:"f_cause",sortable:!1,align:"center",width:"60px"}],itemItems:[],itemFilter:[],itemInfo:[],itemS:[],CauseHead:[{text:"불량위인",value:"n_cause",sortable:!1,align:"center",width:"80px"},{text:"작업일",value:"s_workday",sortable:!1,align:"center",width:"60px"},{text:"폼목코드",value:"c_item",sortable:!1,align:"center",width:"50px"},{text:"항목(폼목)",value:"n_item",sortable:!1,align:"center",width:"100px"},{text:"공정코드",value:"c_process",sortable:!1,align:"center",width:"50px"},{text:"공정명",value:"n_process",sortable:!1,align:"center",width:"60px"},{text:"발주번호",value:"i_orderno",sortable:!1,align:"center",width:"60px"},{text:"거래처",value:"n_vend",sortable:!1,align:"center",width:"80px"},{text:"작업자",value:"n_empnm",sortable:!1,align:"center",width:"60px"},{text:"불량수량",value:"m_err",sortable:!1,align:"center",width:"50px"}],causeItems:[],causeFilter:[],causeInfo:[],causeS:[]}},watch:{headItem1Info(){}},computed:{getProcName(){return`불량 ${void 0!==this.headItem1Info.n_process?this.headItem1Info.n_process:""} 공정 List`},getItemName(){return`불량 ${void 0!==this.headItem2Info.n_item?this.headItem2Info.n_item:""} 폼목 List`},getCauseName(){return(void 0!==this.headItem3Info.n_cause?this.headItem3Info.n_cause:"")+"별 불량 폼목 List"}},methods:{adjustIframeHeight(){const e=window.innerHeight;this.iframeHeight=e-200-400},getErrtypename(e){const t=this.errType.find(t=>t.c_code==e);return t?t.n_code:""},async init(){this.form.sDate1=Object(l["getDate"])(-365,1),this.errType=await this.$axios.post("/api/prod/getErrtype"),await this.view()},async view(){this.headItem1Info=[],this.selectedM1=[],this.headItem2Info=[],this.selectedM2=[],this.headItem3Info=[],this.selectedM3=[],this.itemFilter=[],this.itemInfo=[],this.itemS=[],this.headItem1=await this.$axios.post("/api/metrics/getDefectraterate",this.form),this.procItems=await this.$axios.post("/api/metrics/getDefectrateratedt",this.form),this.headItem2=await this.$axios.post("/api/metrics/getDefectraterate2",this.form),this.itemItems=await this.$axios.post("/api/metrics/getDefectrateratedt2",this.form),this.headItem3=await this.$axios.post("/api/metrics/getDefectraterate3",this.form),this.causeItems=await this.$axios.post("/api/metrics/getDefectrateratedt3",this.form)},rowSelectHead1:function(e,t){this.tabIndex=1,this.headItem1Info.n_process!=e.n_process&&(this.headItem1Info=e,t?t.select(!0):this.selectedM1=[e],this.procItems.length>0?this.procFilter=this.procItems.filter(t=>t.c_process==e.c_process&&t.c_com==e.c_com):this.procFilter=[])},rowSelectHead2:function(e,t){this.tabIndex=2,this.headItem2Info=e,t?t.select(!0):this.selectedM2=[e],this.itemItems.length>0?this.itemFilter=this.itemItems.filter(t=>t.c_item==e.c_item&&t.c_com==e.c_com):this.itemFilter=[]},rowSelectHead3:function(e,t){this.tabIndex=3,this.headItem3Info=e,t?t.select(!0):this.selectedM3=[e],this.causeItems.length>0?this.causeFilter=this.causeItems.filter(t=>t.f_cause==e.f_cause&&t.c_com==e.c_com):this.itemFilter=[]},rowSelectProc:function(e,t){this.procInfo=e,t?t.select(!0):this.procS=[e]},rowSelectItem:function(e,t){this.itemInfo=e,t?t.select(!0):this.itemS=[e]},rowSelectCause:function(e,t){this.causeInfo=e,t?t.select(!0):this.causeS=[e]},sumCause(){return this.causeItems.reduce((e,t)=>e+(Number(t["m_err"])||0),0)},getCasueper(e){return(Number(e.m_err)/this.sumCause()*100).toFixed(2)}}},c=n,d=a("2877"),p=Object(d["a"])(c,i,s,!1,null,null,null);t["default"]=p.exports},d1b1:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"190px",display:"flex"}},[t("v-dialog",{attrs:{persistent:"","max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({attrs:a}){return[t("v-text-field",e._b({staticClass:"my-text-field",attrs:{dense:"","hide-details":"",value:e.value,readonly:e.readonly},on:{input:e.onInput},scopedSlots:e._u([e.readonly?null:{key:"append",fn:function(){return[t("v-btn",{attrs:{icon:"",small:"",tabindex:"-1"},on:{click:e.open}},[t("v-icon",[e._v("mdi-calendar-today")])],1)]},proxy:!0}],null,!0)},"v-text-field",{...e.$attrs,...a},!1))]}}]),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[t("v-card",[t("v-toolbar",[t("v-toolbar-title",[e._v(e._s(e.$attrs.label))]),t("v-spacer"),t("v-btn",{attrs:{icon:"",plain:""},on:{click:e.close}},[t("v-icon",[e._v("mdi-close")])],1)],1),t("v-date-picker",{attrs:{"no-title":"","day-format":e.dayFormat},on:{input:e.picker},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),t("v-text-field",{staticClass:"no-padding",staticStyle:{width:"20px","border-bottom":"none"},attrs:{dense:"","hide-details":"",value:"∽",readonly:e.readonly},on:{input:e.onInput}}),t("v-dialog",{attrs:{persistent:"","max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({attrs:a}){return[t("v-text-field",e._b({staticClass:"my-text-field",attrs:{dense:"","hide-details":"",value:e.value2,readonly:e.readonly},on:{input:e.onInput2},scopedSlots:e._u([e.readonly?null:{key:"append",fn:function(){return[t("v-btn",{attrs:{icon:"",small:"",tabindex:"-1"},on:{click:e.open2}},[t("v-icon",[e._v("mdi-calendar-today")])],1)]},proxy:!0}],null,!0)},"v-text-field",{...e.$attrs,...a},!1))]}}]),model:{value:e.modal2,callback:function(t){e.modal2=t},expression:"modal2"}},[t("v-card",[t("v-toolbar",[t("v-toolbar-title",[e._v(e._s(e.$attrs.label))]),t("v-spacer"),t("v-btn",{attrs:{icon:"",plain:""},on:{click:e.close}},[t("v-icon",[e._v("mdi-close")])],1)],1),t("v-date-picker",{attrs:{"no-title":"","day-format":e.dayFormat},on:{input:e.picker2},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}})],1)],1)],1)},s=[],r=(a("64f2"),{name:"InputDateft",model:{prop:"value",event:"input"},model2:{prop:"value2",event:"input2"},props:{value:String,value2:String,readonly:Boolean},data(){return{modal:!1,date:"",modal2:!1,date2:""}},watch:{date2(e){this.$emit("update:value2",e)}},methods:{onInput(e){this.$emit("input",e)},picker(){this.onInput(this.date),this.close()},open(){const e=/^\d{4}-\d{2}-\d{2}$/;this.date=e.test(this.value)?this.value:this.date,this.modal=!0},close(){this.modal=!1,this.modal2=!1},onInput2(e){this.$emit("input2",e)},picker2(){this.onInput2(this.date2),this.close()},open2(){const e=/^\d{4}-\d{2}-\d{2}$/;this.date2=e.test(this.value2)?this.value2:this.date2,this.modal2=!0},dayFormat(e){if(!this.modal&&!this.modal2)return;const t=e.split("-");return Number(t[t.length-1])}}}),o=r,l=a("2877"),n=Object(l["a"])(o,i,s,!1,null,null,null);t["a"]=n.exports}}]);
//# sourceMappingURL=DefectrateRate.d32b1fea.js.map