{"version":3,"sources":["webpack:///./src/components/etc/TooltipBtn.vue","webpack:///src/components/etc/TooltipBtn.vue","webpack:///./src/components/etc/TooltipBtn.vue?280f","webpack:///./src/components/etc/TooltipBtn.vue?3dfc","webpack:///./src/views/kpi/Level1View.vue","webpack:///src/views/kpi/Level1View.vue","webpack:///./src/views/kpi/Level1View.vue?a3e9","webpack:///./src/views/kpi/Level1View.vue?0c12"],"names":["render","_vm","this","_c","_self","attrs","scopedSlots","_u","key","fn","on","_g","_b","class","childClass","$event","$emit","$attrs","_t","_v","_s","label","staticRenderFns","name","props","type","String","required","Object","component","prevMon","cleandarYM","nextMon","view","siteKpiifno","n_kpiconm","ref","staticClass","masterHead","masters","rowSelectMaster","model","value","selectedM","callback","$$v","expression","selectdata","ocrDttm","systmOprYn","kpi1Test1","itemHead","itemListsselect","rowSelectDetail","selectedD","itemInfo","t_req","$set","t_res","components","TooltipBtn","mounted","init","data","ym","y","m","i_company","i_kpikey","f_kpichk","form","s_ym","f_tst","t_no","c_com","kpiCertKey","trsDttm","f_err","text","sortable","align","width","masterinfo","itemLists","computed","padStart","watch","deep","handler","newItems","oldItems","yyyymm","methods","now","Date","getFullYear","getMonth","$axios","get","$store","state","user","member","post","undefined","s_day","res","$ezNotify","confirm","icon","rv","idx","push","m_cnt","m_ok","m_no","item","row","select","s_date","length","filter","r"],"mappings":"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","file":"js/KPILevel1.42da7c56.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({class:_vm.childClass,on:{\"click\":function($event){return _vm.$emit('click')}}},'v-btn',{ ...attrs, ..._vm.$attrs },false),on),[_vm._t(\"default\")],2)]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.label))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-tooltip top>\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn\n        v-on=\"on\"\n        v-bind=\"{ ...attrs, ...$attrs }\"\n        :class=\"childClass\"\n        @click=\"$emit('click')\"\n      >\n        <slot></slot>\n      </v-btn>\n    </template>\n    <span>{{ label }}</span>\n  </v-tooltip>\n</template>\n\n<script>\nexport default {\n  name: \"TooltipBtn\",\n  props: {\n    label: {\n      type: String,\n      required: true,\n    },\n    childClass: [String, Object],\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipBtn.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipBtn.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TooltipBtn.vue?vue&type=template&id=3ebf7b7c\"\nimport script from \"./TooltipBtn.vue?vue&type=script&lang=js\"\nexport * from \"./TooltipBtn.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-toolbar',{attrs:{\"height\":\"40px\",\"background-color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"KPI 핵심성과지표 레벨1\")]),_c('v-spacer'),_vm._v(\" 조회년월 : \"),_c('tooltip-btn',{attrs:{\"label\":\"전월\"},on:{\"click\":_vm.prevMon}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1),_vm._v(\" \"+_vm._s(_vm.cleandarYM)+\" \"),_c('tooltip-btn',{attrs:{\"label\":\"다음월\"},on:{\"click\":_vm.nextMon}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1),_c('tooltip-btn',{attrs:{\"label\":\"조회\"},on:{\"click\":_vm.view}},[_c('v-icon',[_vm._v(\"mdi-magnify\")])],1)],1),_c('v-row',[_c('v-col',[_c('v-toolbar',{attrs:{\"height\":\"30px\",\"color\":\"accent\"}},[_c('v-toolbar-title',[_vm._v(\"KPI인증상호: \"+_vm._s(this.siteKpiifno.n_kpiconm))])],1),_c('v-data-table',{ref:\"table\",staticClass:\"elevation-1 text-no-wrap\",attrs:{\"headers\":_vm.masterHead,\"items\":_vm.masters,\"item-key\":\"s_day\",\"single-select\":\"\",\"hide-default-footer\":\"\",\"items-per-page\":-1,\"footer-props\":{'items-per-page-options': [10, 20, 30, 40, 50, 100, -1]},\"height\":\"550px\",\"max-height\":\"550px\"},on:{\"click:row\":_vm.rowSelectMaster},model:{value:(_vm.selectedM),callback:function ($$v) {_vm.selectedM=$$v},expression:\"selectedM\"}})],1),_c('v-col',[_c('v-toolbar',{attrs:{\"height\":\"30px\",\"color\":\"accent\"}},[_c('v-toolbar-title',[_vm._v(\"선택날짜: \"+_vm._s(this.selectdata.ocrDttm))])],1),_c('v-toolbar',{attrs:{\"height\":\"100px\",\"color\":\"grey lighten-4\"}},[_c('v-switch',{attrs:{\"label\":`시스템가동 : ${this.selectdata.systmOprYn}`},model:{value:(_vm.systmOprYn),callback:function ($$v) {_vm.systmOprYn=$$v},expression:\"systmOprYn\"}}),_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"color\":_vm.systmOprYn ? 'success':'error'},on:{\"click\":_vm.kpi1Test1}},[_vm._v(\"KPI 전송\")])],1),_c('v-data-table',{ref:\"item-table\",staticClass:\"elevation-1 text-no-wrap\",attrs:{\"headers\":_vm.itemHead,\"items\":_vm.itemListsselect,\"item-key\":\"t_no\",\"single-select\":\"\",\"hide-default-footer\":\"\",\"items-per-page\":-1,\"max-height\":\"140px\",\"height\":\"140px\"},on:{\"click:row\":_vm.rowSelectDetail},model:{value:(_vm.selectedD),callback:function ($$v) {_vm.selectedD=$$v},expression:\"selectedD\"}}),_c('v-textarea',{attrs:{\"readonly\":\"\",\"label\":\"전송내용\",\"hide-details\":\"false\"},model:{value:(_vm.itemInfo.t_req),callback:function ($$v) {_vm.$set(_vm.itemInfo, \"t_req\", $$v)},expression:\"itemInfo.t_req\"}}),_c('v-textarea',{attrs:{\"readonly\":\"\",\"label\":\"전송결과\",\"hide-details\":\"false\"},model:{value:(_vm.itemInfo.t_res),callback:function ($$v) {_vm.$set(_vm.itemInfo, \"t_res\", $$v)},expression:\"itemInfo.t_res\"}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container fluid> \r\n        <v-toolbar height=\"40px\" background-color=\"primary\" dark>\r\n            <v-toolbar-title>KPI 핵심성과지표 레벨1</v-toolbar-title>\r\n            <v-spacer/>\r\n            조회년월 :             \r\n            <tooltip-btn label=\"전월\"   @click=\"prevMon\"><v-icon>mdi-chevron-left</v-icon></tooltip-btn> \r\n            {{ cleandarYM }}\r\n            <tooltip-btn label=\"다음월\" @click=\"nextMon\"><v-icon>mdi-chevron-right</v-icon></tooltip-btn> \r\n            <tooltip-btn label=\"조회\"   @click=\"view\"><v-icon>mdi-magnify</v-icon></tooltip-btn> \r\n        </v-toolbar>\r\n        <v-row>\r\n            <v-col>\r\n                <v-toolbar height=\"30px\" color=\"accent\">\r\n                    <!-- <v-toolbar-title>사업자번호:{{ this.siteKpiifno.i_company }} / 인증키값: {{ this.siteKpiifno.i_kpikey }}</v-toolbar-title> -->\r\n                    <v-toolbar-title>KPI인증상호: {{ this.siteKpiifno.n_kpiconm }}</v-toolbar-title>\r\n                </v-toolbar>\r\n                <v-data-table ref=\"table\" :headers=\"masterHead\" :items=\"masters\" @click:row=\"rowSelectMaster\" \r\n                    item-key=\"s_day\" single-select v-model=\"selectedM\"                    \r\n                    hide-default-footer :items-per-page=\"-1\" :footer-props=\"{'items-per-page-options': [10, 20, 30, 40, 50, 100, -1]}\" \r\n                    class=\"elevation-1 text-no-wrap\" height=\"550px\" max-height=\"550px\" > \r\n                </v-data-table>\r\n            </v-col>\r\n            <v-col>\r\n                \r\n                <v-toolbar height=\"30px\" color=\"accent\">                \r\n                <v-toolbar-title>선택날짜: {{ this.selectdata.ocrDttm }}</v-toolbar-title>\r\n                </v-toolbar>\r\n\r\n                <v-toolbar height=\"100px\" color=\"grey lighten-4\">\r\n                    <v-switch v-model=\"systmOprYn\" :label=\"`시스템가동 : ${this.selectdata.systmOprYn}`\"></v-switch>\r\n                    <v-spacer/>\r\n                    <v-btn small :color=\"systmOprYn ? 'success':'error'\" @click=\"kpi1Test1\">KPI 전송</v-btn>\r\n                </v-toolbar>\r\n\r\n                \r\n                \r\n                <v-data-table ref=\"item-table\" :headers=\"itemHead\" :items=\"itemListsselect\"                     \r\n                    item-key=\"t_no\" v-model=\"selectedD\" @click:row=\"rowSelectDetail\" single-select hide-default-footer\r\n                    :items-per-page=\"-1\" \r\n                    class=\"elevation-1 text-no-wrap\"  max-height=\"140px\" height=\"140px\" \r\n                    >\r\n                </v-data-table>\r\n                <v-textarea v-model=\"itemInfo.t_req\" readonly label=\"전송내용\" hide-details=\"false\"/>\r\n                <v-textarea v-model=\"itemInfo.t_res\" readonly label=\"전송결과\" hide-details=\"false\"/>\r\n                \r\n            </v-col>\r\n        </v-row>    \r\n    </v-container>\r\n    \r\n</template>\r\n\r\n<script>\r\nimport TooltipBtn from '../../components/etc/TooltipBtn.vue';\r\nimport { getDate } from '../../../util/lib';\r\nexport default {\r\n    components: { TooltipBtn },\r\n    mounted() {        \r\n        this.init();\r\n    }, \r\n    data() {\r\n        return {\r\n            ym : {y:0, m:0}, \r\n            siteKpiifno : {i_company:\"\",  i_kpikey:\"\", f_kpichk:\"\", n_kpiconm:\"\"},\r\n            form : {s_ym:\"\", f_tst:\"Y\"},\r\n            systmOprYn: true,\r\n            selectdata : {t_no: 0, c_com: \"\", kpiCertKey: \"\", ocrDttm: \"\", systmOprYn: \"Y\", trsDttm: \"\", f_tst: \"Y\", t_req: \"\", t_res: \"\", f_err: \"\"},\r\n            masterHead: [\r\n                {text: '날자',   value: 's_day',  sortable: false, align:'center', width: \"55px\"},                \r\n                {text: '처리',   value: 'm_cnt',  sortable: false, align:'center', width: \"40px\"},                \r\n                {text: '성공',   value: 'm_ok',   sortable: false, align:'center', width: \"40px\" },\r\n                {text: '실패',   value: 'm_no',   sortable: false, align:'center', width: \"40px\" },\r\n            ],\r\n            masters:[], masterinfo:[], selectedM: [],\r\n            itemHead: [\r\n                {text: 'kpiCertKey', value: 'kpiCertKey',  sortable: false, align:'center', width: \"55px\"},\r\n                {text: 'ocrDttm',    value: 'ocrDttm',  sortable: false, align:'center', width: \"55px\"},\r\n                {text: 'systmOprYn', value: 'systmOprYn',  sortable: false, align:'center', width: \"55px\"},\r\n                {text: 'trsDttm',    value: 'trsDttm',  sortable: false, align:'center', width: \"55px\"},\r\n                {text: 'error',       value: 'f_err',  sortable: false, align:'center', width: \"55px\"},\r\n                \r\n            ],\r\n            itemLists: [], itemListsselect: [],  itemInfo: [], selectedD: [],\r\n        }\r\n    },\r\n    computed: {\r\n        cleandarYM() {\r\n            return `${this.ym.y}년 ${String(this.ym.m + 1).padStart(2, '0')}월`;\r\n        } \r\n    },\r\n    watch: {\r\n        ym: {\r\n            deep: true,\r\n            handler(newItems, oldItems) {this.form.s_ym = this.yyyymm(); },            \r\n        },\r\n        systmOprYn: {\r\n            handler(newItems, oldItems) {this.selectdata.systmOprYn = newItems ? 'Y' : 'N'}\r\n        },\r\n\r\n    },\r\n    methods: {\r\n        async init() {\r\n            const now = new Date(Date.now());\r\n            this.ym.y = now.getFullYear();\r\n            this.ym.m = now.getMonth();\r\n            this.siteKpiifno = await this.$axios.get(`/api/system/getSiteKpiInfo`); \r\n            this.selectdata.c_com = this.$store.state.user.member.c_com;             \r\n            this.selectdata.kpiCertKey = this.siteKpiifno.i_kpikey;\r\n            \r\n        },\r\n        yyyymm() {\r\n            return `${this.ym.y}${String(this.ym.m + 1).padStart(2, '0')}`;\r\n        },\r\n        prevMon() {\r\n            if (this.ym.m == 0) {\r\n                this.ym.m = 11;\r\n                this.ym.y = this.ym.y - 1;\r\n            } else {\r\n                this.ym.m = this.ym.m  - 1;\r\n            }            \r\n        },\r\n        nextMon(){\r\n            if (this.ym.m == 11) {\r\n                this.ym.m = 0;\r\n                this.ym.y = this.ym.y + 1;\r\n            } else {\r\n                this.ym.m = this.ym.m  + 1;\r\n            }\r\n        },\r\n        async view() {   \r\n            this.masterinfo = []; this.selectedM = []; this.itemLists = []; this.itemListsselect = [] ,this.itemInfo = [];         \r\n            this.masters = await this.$axios.post(`/api/kpi/getKpi1`,  this.form);      \r\n            this.itemLists = await this.$axios.post(`/api/kpi/getKpi1dt`, this.form);       \r\n        },\r\n\r\n\r\n        async kpi1Test1() {\r\n            \r\n            if(this.masterinfo.s_day == undefined) return;\r\n            if(this.siteKpiifno.f_kpichk !== \"Y\") return;\r\n            const res = await this.$ezNotify.confirm(`날짜 : ${this.masterinfo.s_day}, 시스템 가동 상태 : ${this.systmOprYn ? 'Y':'N'}`, \"KPI전송\", {icon: \"mdi-message-bulleted-off\", width: 350,});\r\n            if(!res) return;\r\n            const rv = await this.$axios.post(`/api/kpi/sendKpi1`, this.selectdata);\r\n            const idx = this.itemListsselect.push(rv);\r\n            if (idx >=0 ) {\r\n                this.itemLists.push(rv);\r\n                this.masterinfo.m_cnt = this.masterinfo.m_cnt + 1;\r\n                if (rv.f_err == \"N\") { this.masterinfo.m_ok = this.masterinfo.m_ok + 1 } else { this.masterinfo.m_no =  this.masterinfo.m_no + 1 }\r\n\r\n            }\r\n        },\r\n        async kpi1Test2() {\r\n            const rv = await this.$axios.post(`/api/kpi/loadKpi1`);\r\n            \r\n        },\r\n        async rowSelectMaster(item, row) {\r\n            if(this.masterinfo.s_day == item.s_day) return;\r\n            \r\n            this.masterinfo = item;\r\n            if (row) { row.select(true) } else { this.selectedM = [item] }; \r\n            \r\n            this.selectdata.ocrDttm = item.s_date;            \r\n            this.selectedD = []; \r\n            this.itemInfo = [];\r\n            if (this.itemLists.length > 0) {\r\n                this.itemListsselect = this.itemLists.filter((r) => {\r\n                    return r.ocrDttm == item.ocrDttm && r.c_com == item.c_com;\r\n                }); \r\n            } else {\r\n                this.itemListsselect = [];\r\n            }\r\n        },    \r\n        rowSelectDetail(item, row) {\r\n            this.itemInfo = item;            \r\n            if (row) { row.select(true) } else { this.selectedD = [item] };\r\n        },\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Level1View.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Level1View.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Level1View.vue?vue&type=template&id=673682e7\"\nimport script from \"./Level1View.vue?vue&type=script&lang=js\"\nexport * from \"./Level1View.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}