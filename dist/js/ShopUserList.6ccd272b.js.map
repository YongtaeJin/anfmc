{"version":3,"sources":["webpack:///./src/components/etc/TooltipBtn.vue","webpack:///src/components/etc/TooltipBtn.vue","webpack:///./src/components/etc/TooltipBtn.vue?280f","webpack:///./src/components/etc/TooltipBtn.vue?3dfc","webpack:///./src/views/shop/ShopUserListView.vue","webpack:///src/views/shop/ShopUserListView.vue","webpack:///./src/views/shop/ShopUserListView.vue?ce8c","webpack:///./src/views/shop/ShopUserListView.vue?71cc"],"names":["render","_vm","this","_c","_self","attrs","scopedSlots","_u","key","fn","on","_g","_b","class","childClass","$event","$emit","$attrs","_t","_v","_s","label","staticRenderFns","name","props","type","String","required","Object","component","model","value","f_serarch","callback","$$v","expression","fetchData","ref","staticClass","headers","items","iframeHeight","item","selected","selectItem","i_id","n_name","e_email","i_password","n_level","use_delete","components","TooltipBtn","data","isLoading","text","align","sortable","width","beforeCreate","_this$$store$state$us","$store","state","user","member","c_com","$router","push","catch","$toast","error","created","mounted","window","addEventListener","adjustIframeHeight","beforeDestroy","removeEventListener","methods","windowHeight","innerHeight","$axios","get","res","$ezNotify","confirm","patch","affectedRows","idx","indexOf","splice"],"mappings":"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","file":"js/ShopUserList.6ccd272b.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({class:_vm.childClass,on:{\"click\":function($event){return _vm.$emit('click')}}},'v-btn',{ ...attrs, ..._vm.$attrs },false),on),[_vm._t(\"default\")],2)]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.label))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-tooltip top>\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn\n        v-on=\"on\"\n        v-bind=\"{ ...attrs, ...$attrs }\"\n        :class=\"childClass\"\n        @click=\"$emit('click')\"\n      >\n        <slot></slot>\n      </v-btn>\n    </template>\n    <span>{{ label }}</span>\n  </v-tooltip>\n</template>\n\n<script>\nexport default {\n  name: \"TooltipBtn\",\n  props: {\n    label: {\n      type: String,\n      required: true,\n    },\n    childClass: [String, Object],\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipBtn.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipBtn.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TooltipBtn.vue?vue&type=template&id=3ebf7b7c\"\nimport script from \"./TooltipBtn.vue?vue&type=script&lang=js\"\nexport * from \"./TooltipBtn.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-toolbar',{attrs:{\"height\":\"40px\",\"background-color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"사용자관리\")]),_c('v-spacer'),_c('v-text-field',{attrs:{\"label\":\"ID/이름/email : \",\"hide-details\":\"\",\"single-line\":\"\"},model:{value:(_vm.f_serarch),callback:function ($$v) {_vm.f_serarch=$$v},expression:\"f_serarch\"}}),_c('tooltip-btn',{attrs:{\"label\":\"조회\"},on:{\"click\":_vm.fetchData}},[_c('v-icon',[_vm._v(\"mdi-magnify\")])],1)],1),_c('v-data-table',{ref:\"table\",staticClass:\"elevation-1 text-no-wrap\",attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"item-key\":\"i_id\",\"single-select\":\"\",\"hide-default-footer\":\"\",\"items-per-page\":-1,\"height\":_vm.iframeHeight},scopedSlots:_vm._u([{key:\"item\",fn:function({ item }){return [_c('tr',{staticClass:\"center-align\",class:{ 'row_select': item === _vm.selected},on:{\"click\":function($event){return _vm.selectItem(item)}}},[_c('td',[_vm._v(\" \"+_vm._s(item.i_id))]),_c('td',[_vm._v(\" \"+_vm._s(item.n_name))]),_c('td',[_vm._v(\" \"+_vm._s(item.e_email))]),_c('td',[_vm._v(\" \"+_vm._s(item.i_password))]),_c('td',[_vm._v(\" \"+_vm._s(item.n_level))]),_c('td',{on:{\"dblclick\":function($event){return _vm.use_delete(item)}}},[_c('u',[_vm._v(\"삭제\")])])])]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container fluid>\r\n        <v-toolbar height=\"40px\" background-color=\"primary\" dark>\r\n            <v-toolbar-title>사용자관리</v-toolbar-title>\r\n            <v-spacer/>\r\n            <v-text-field label=\"ID/이름/email : \" v-model=\"f_serarch\" hide-details  single-line  />\r\n            <tooltip-btn label=\"조회\" @click=\"fetchData\"><v-icon>mdi-magnify</v-icon></tooltip-btn>\r\n        </v-toolbar>\r\n        <v-data-table ref=\"table\" :headers=\"headers\" :items=\"items\"  item-key=\"i_id\"\r\n            single-select hide-default-footer :items-per-page=\"-1\"                    \r\n            class=\"elevation-1 text-no-wrap\"  :height=iframeHeight >\r\n            <template v-slot:item=\"{ item }\">\r\n                <tr :class=\"{ 'row_select': item === selected}\" @click=\"selectItem(item)\" class=\"center-align\" >\r\n                    <td> {{ item.i_id }}</td>\r\n                    <td> {{ item.n_name }}</td>\r\n                    <td> {{ item.e_email }}</td>\r\n                    <td> {{ item.i_password }}</td>\r\n                    <td> {{ item.n_level }}</td>\r\n                    <td @dblclick=\"use_delete(item)\"><u>삭제</u> </td>\r\n                </tr>\r\n            </template>\r\n        </v-data-table>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nimport TooltipBtn from '@/components/etc/TooltipBtn.vue';\r\nexport default {\r\n  components: { TooltipBtn },\r\n    name: \"ShopUserList\",\r\n    data() {\r\n        return {\r\n            iframeHeight: 500, // 초기 높이 설정 (원하는 높이로 초기화)\r\n            isLoading: false,\r\n            f_serarch: \"\",\r\n            headers: [\r\n                { text: 'ID',  value: 'i_id', align:'center',sortable: true, width:\"10%\"},\r\n                { text: '이름',  value: 'n_name', align:'center',sortable: true, width:\"15%\"},              \r\n                { text: 'email',  value: 'e_email', align:'center',sortable: true, width:\"25%\"},                \r\n                { text: '비빌번호',  value: 'i_password', align:'center',sortable: false, width:\"15%\"},\r\n                { text: '사용등급',  value: 'n_level', align:'center',sortable: false, width:\"15%\"},                \r\n                { text: '사용자삭제', value: 'f_del', align:'center', sortable: false, width:\"10%\"} ,              \r\n            ],\r\n            items: [], selected:[],\r\n        }\r\n    },\r\n    beforeCreate() {        \r\n        if (!this.$store.state.user.member?.c_com) {            \r\n            this.$router.push(\"/\").catch( () => {this.$toast.error('잘못된 접급 입니다.')}); \r\n            return\r\n        }\r\n    },\r\n    created() {\r\n        this.fetchData() ;\r\n    },\r\n    mounted() {\r\n        // 창 크기가 변경될 때마다 iframe의 높이를 조정\r\n        window.addEventListener('resize', this.adjustIframeHeight);\r\n        this.adjustIframeHeight(); // 초기 조정 \r\n        this.fetchData();\r\n    },\r\n    beforeDestroy() {\r\n        // 컴포넌트가 파기될 때 리스너 제거\r\n        window.removeEventListener('resize', this.adjustIframeHeight);\r\n    },\r\n    methods: {        \r\n        adjustIframeHeight() {\r\n        // 브라우저 창의 높이를 iframe의 높이로 설정\r\n            const windowHeight = window.innerHeight;\r\n            this.iframeHeight = windowHeight - 200;           \r\n        },\r\n        async fetchData() {\r\n            this.items = await this.$axios.get(`/api/shopinfo/ShopUserList?f_serarch=${this.f_serarch}`);\r\n        },\r\n        async selectItem(item) {\r\n            if (this.selected == item) return;\r\n            this.selected = item;            \r\n        },\r\n        async use_delete(item) {\r\n            const res = await this.$ezNotify.confirm(`${item.n_name} 삭제 하시겠습니까 ?`, '삭제');\r\n            if(res) {\r\n                const data = await this.$axios.patch(`/api/shopinfo/ShopUserDelete?i_id=${item.i_id}`);\r\n                if (data.affectedRows === 1) {\r\n                    const idx = this.items.indexOf(item);                    \r\n                    if ( idx >= 0 ) this.items.splice(idx, 1);                    \r\n                    await this.$ezNotify.confirm(\"삭제 완료 !!!!!!\", \"\");\r\n                }\r\n            }\r\n        }\r\n    },\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopUserListView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopUserListView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ShopUserListView.vue?vue&type=template&id=746c4a88\"\nimport script from \"./ShopUserListView.vue?vue&type=script&lang=js\"\nexport * from \"./ShopUserListView.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}