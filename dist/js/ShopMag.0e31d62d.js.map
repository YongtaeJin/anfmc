{"version":3,"sources":["webpack:///./src/views/shop/Shopmagview.vue","webpack:///./src/views/shop/shop_form/ShopmagUpdateForm.vue","webpack:///src/views/shop/shop_form/ShopmagUpdateForm.vue","webpack:///./src/views/shop/shop_form/ShopmagUpdateForm.vue?8b8d","webpack:///./src/views/shop/shop_form/ShopmagUpdateForm.vue?c13d","webpack:///./src/views/shop/shop_form/ShopmagFileForm.vue","webpack:///src/views/shop/shop_form/ShopmagFileForm.vue","webpack:///./src/views/shop/shop_form/ShopmagFileForm.vue?4ba9","webpack:///./src/views/shop/shop_form/ShopmagFileForm.vue?096d","webpack:///./src/views/shop/shop_form/ShopmagFileAddForm.vue","webpack:///src/views/shop/shop_form/ShopmagFileAddForm.vue","webpack:///./src/views/shop/shop_form/ShopmagFileAddForm.vue?52be","webpack:///./src/views/shop/shop_form/ShopmagFileAddForm.vue?9fea","webpack:///src/views/shop/Shopmagview.vue","webpack:///./src/views/shop/Shopmagview.vue?30e6","webpack:///./src/views/shop/Shopmagview.vue?05ea","webpack:///./src/components/etc/TooltipBtn.vue","webpack:///src/components/etc/TooltipBtn.vue","webpack:///./src/components/etc/TooltipBtn.vue?280f","webpack:///./src/components/etc/TooltipBtn.vue?3dfc","webpack:///./src/components/etc/EzDialog.vue","webpack:///src/components/etc/EzDialog.vue","webpack:///./src/components/etc/EzDialog.vue?402e","webpack:///./src/components/etc/EzDialog.vue?ca36"],"names":["render","_vm","this","_c","_self","attrs","_v","tabs","$store","state","user","member","i_level","on","addShop","_e","addFile","model","value","callback","$$v","expression","staticStyle","ref","staticClass","itemShopHead","itemShops","iframeHeight","rowSelectitemShop","rowShopitemSet","scopedSlots","_u","key","fn","item","_s","t_remark","itemShopRow","fileAddsA","fileAddsB","fileAddsC","isNew","itemShop","cbShopIdChk","save1","AddFileTitle","fileAdd","isAddNew","isLoading","i_sort_max","save2","onDelete","staticRenderFns","$event","preventDefault","save","apply","arguments","valid","rules","name","label","originKey","cbShopId","form","i_shop","$set","n_shop","d_date1","d_date2","t_remark2","components","InputDuplicateCheck","InputDate","props","Boolean","shopinfo","type","Object","default","Function","data","watch","init","computed","validateRules","created","destroyed","methods","deepCopy","$refs","resetValidation","validate","$nextTick","keys","$emit","onClose","console","log","component","edit","headers","class","selected","selectItem","showRowInfo","red2","f_yn","green2","blue2","f_gubun","i_sort","n_nm","n_file","addLists","Array","text","sortable","width","fixed","align","i_ser","t_filenm","t_sample","f_del","downLoad","getFilename","t_image","fgubun","addFileInfo","toString","formData","FormData","append","res","$ezNotify","confirm","files","downFile","fileBuffer","$axios","get","alert","TooltipBtn","EzDialog","ShopmagUpdateForm","ShopmagFileForm","ShopmagFileAddForm","idx","mounted","window","addEventListener","adjustIframeHeight","fetchData","beforeDestroy","removeEventListener","payload","sortBy","post","windowHeight","innerHeight","dialog_shop","open","row","select","index","field","affectedRows","$toast","info","indexOf","splice","push","close","getSortMax","dialog_file","gubun","ob","reloadFile","_g","_b","childClass","$attrs","_t","String","required","dialog","obtn","btnClick"],"mappings":"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","file":"js/ShopMag.0e31d62d.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-toolbar',{attrs:{\"height\":\"40px\",\"background-color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"사업관리\")]),_c('v-spacer'),(this.tabs==0 &&  this.$store.state.user.member.i_level > 9)?_c('tooltip-btn',{attrs:{\"fab\":\"\",\"small\":\"\",\"label\":\"사업추가\"},on:{\"click\":_vm.addShop}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1):_vm._e(),(this.tabs>=1)?_c('tooltip-btn',{attrs:{\"fab\":\"\",\"small\":\"\",\"label\":\"첨부 서류 추가\"},on:{\"click\":_vm.addFile}},[_c('v-icon',[_vm._v(\"mdi-arrow-up-bold-box-outline\")])],1):_vm._e()],1),_c('v-tabs',{attrs:{\"background-color\":\"primary\",\"dark\":\"\",\"height\":\"35px\"},model:{value:(_vm.tabs),callback:function ($$v) {_vm.tabs=$$v},expression:\"tabs\"}},[_c('v-tab',{staticStyle:{\"flex\":\"1\"},attrs:{\"value\":\"tbapage_1\"}},[_vm._v(\"사업 내역\")]),_c('v-tab',{attrs:{\"value\":\"tbapage_2\"}},[_vm._v(\"신청 서류\")]),_c('v-tab',{attrs:{\"value\":\"tbapage_3\"}},[_vm._v(\"추가 서류\")]),_c('v-tab',{attrs:{\"value\":\"tbapage_4\"}},[_vm._v(\"협약서 서류\")])],1),_c('v-card-text',[_c('v-tabs-items',{model:{value:(_vm.tabs),callback:function ($$v) {_vm.tabs=$$v},expression:\"tabs\"}},[_c('v-tab-item',[_c('v-data-table',{ref:\"shop-table\",staticClass:\"elevation-1 text-no-wrap\",attrs:{\"headers\":_vm.itemShopHead,\"items\":_vm.itemShops,\"item-key\":\"i_shop\",\"single-select\":\"\",\"items-per-page\":-1,\"hide-default-footer\":\"\",\"height\":_vm.iframeHeight},on:{\"click:row\":_vm.rowSelectitemShop,\"dblclick:row\":_vm.rowShopitemSet},scopedSlots:_vm._u([{key:`item.t_remark`,fn:function({ item }){return [_c('div',{staticClass:\"left-align\"},[_vm._v(\" \"+_vm._s(item.t_remark))])]}}],null,true)})],1),(this.itemShopRow>=0)?_c('v-tab-item',[_c('shopmag-file-form',{attrs:{\"addLists\":this.fileAddsA},on:{\"edit\":_vm.addFile}})],1):_vm._e(),(this.itemShopRow>=0)?_c('v-tab-item',[_c('shopmag-file-form',{attrs:{\"addLists\":this.fileAddsB},on:{\"edit\":_vm.addFile}})],1):_vm._e(),(this.itemShopRow>=0)?_c('v-tab-item',[_c('shopmag-file-form',{attrs:{\"addLists\":this.fileAddsC},on:{\"edit\":_vm.addFile}})],1):_vm._e()],1)],1),_c('ez-dialog',{ref:\"dialog_shop\",attrs:{\"label\":\"사업 추가 / 수정\",\"max-width\":\"400\",\"dark\":\"\",\"color\":\"primary\",\"persistent\":\"\"}},[_c('shopmag-update-form',{attrs:{\"isNew\":_vm.isNew,\"shopinfo\":_vm.itemShop,\"cbShopId\":_vm.cbShopIdChk},on:{\"save\":_vm.save1}})],1),_c('ez-dialog',{ref:\"dialog_file\",attrs:{\"label\":_vm.AddFileTitle(),\"max-width\":\"400\",\"dark\":\"\",\"color\":\"primary\",\"persistent\":\"\"}},[_c('shopmag-file-add-form',{attrs:{\"addFileInfo\":_vm.fileAdd,\"isNew\":_vm.isAddNew,\"isLoading\":_vm.isLoading,\"i_sort_max\":_vm.i_sort_max,\"fgubun\":this.tabs},on:{\"save\":_vm.save2,\"onDelete\":_vm.onDelete}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('input-duplicate-check',{ref:\"i_shop\",attrs:{\"label\":\"사업번호\",\"counter\":\"15\",\"readonly\":!_vm.isNew,\"prepend-icon\":\"mdi-identifier\",\"rules\":_vm.rules.name({label:'사업번호'}),\"origin\":_vm.originKey,\"cbCheck\":_vm.cbShopId},model:{value:(_vm.form.i_shop),callback:function ($$v) {_vm.$set(_vm.form, \"i_shop\", $$v)},expression:\"form.i_shop\"}}),_c('v-text-field',{attrs:{\"label\":\"사업명\",\"prepend-icon\":\"mdi-briefcase\"},model:{value:(_vm.form.n_shop),callback:function ($$v) {_vm.$set(_vm.form, \"n_shop\", $$v)},expression:\"form.n_shop\"}}),_c('input-date',{attrs:{\"label\":\"사업시작일\",\"prepend-icon\":\"mdi-calendar\"},model:{value:(_vm.form.d_date1),callback:function ($$v) {_vm.$set(_vm.form, \"d_date1\", $$v)},expression:\"form.d_date1\"}}),_c('input-date',{attrs:{\"label\":\"사업종료일\",\"prepend-icon\":\"mdi-calendar\"},model:{value:(_vm.form.d_date2),callback:function ($$v) {_vm.$set(_vm.form, \"d_date2\", $$v)},expression:\"form.d_date2\"}}),_c('v-textarea',{attrs:{\"label\":\"신청서 설명\"},model:{value:(_vm.form.t_remark),callback:function ($$v) {_vm.$set(_vm.form, \"t_remark\", $$v)},expression:\"form.t_remark\"}}),_c('v-textarea',{attrs:{\"label\":\"협약서 설명\"},model:{value:(_vm.form.t_remark2),callback:function ($$v) {_vm.$set(_vm.form, \"t_remark2\", $$v)},expression:\"form.t_remark2\"}}),_c('v-btn',{attrs:{\"type\":\"submit\",\"block\":\"\",\"color\":\"primary\",\"loading\":_vm.isLoading}},[_vm._v(_vm._s(_vm.isNew?'추 가':'수 정'))])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-form @submit.prevent=\"save\" ref=\"form\" v-model=\"valid\" lazy-validation>\r\n        <input-duplicate-check ref=\"i_shop\"  label=\"사업번호\" v-model=\"form.i_shop\"  counter=\"15\" :readonly=!isNew \r\n            prepend-icon=\"mdi-identifier\" \r\n            :rules=\"rules.name({label:'사업번호'})\" \r\n            :origin=\"originKey\" \r\n            :cbCheck=\"cbShopId\"/>\r\n        <v-text-field label=\"사업명\" v-model=\"form.n_shop\" prepend-icon=\"mdi-briefcase\" /> \r\n        <input-date label=\"사업시작일\" v-model=\"form.d_date1\" prepend-icon=\"mdi-calendar\" />\r\n        <input-date label=\"사업종료일\" v-model=\"form.d_date2\" prepend-icon=\"mdi-calendar\" />\r\n        <v-textarea label=\"신청서 설명\" v-model=\"form.t_remark\" />\r\n        <v-textarea label=\"협약서 설명\" v-model=\"form.t_remark2\" />        \r\n        \r\n        <v-btn type=\"submit\" block color=\"primary\" :loading=\"isLoading\">{{isNew?'추  가':'수  정'}}</v-btn>\r\n    </v-form>\r\n</template>\r\n\r\n<script>\r\nimport InputDuplicateCheck from '@/components/InputForms/InputDuplicateCheck.vue';\r\nimport { deepCopy } from '../../../../util/lib';\r\nimport validateRules from \"../../../../util/validateRules\";\r\nimport InputDate from '@/components/InputForms/InputDate.vue';\r\nexport default {\r\n  components: { InputDuplicateCheck, InputDate },\r\n    props: {\r\n        isNew : Boolean, \r\n        isLoading : Boolean,\r\n        shopinfo: {\r\n            type: Object,\r\n            default: null,\r\n        },\r\n        cbShopId: {\r\n            type: Function,\r\n            default: null,\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            valid: true,\r\n            form: {\r\n                i_shop: \"\",\r\n                n_shop: \"\",\r\n                d_date1: \"\",\r\n                d_date2: \"\",\r\n                t_remark: \"\",\r\n                t_remark2: \"\",\r\n            },\r\n        }\r\n    },    \r\n    watch: {\r\n        shopinfo() {            \r\n            this.init();            \r\n        }\r\n    },\r\n    computed: {\r\n        rules: () => validateRules,\r\n        originKey() {            \r\n           return this.shopinfo ? this.shopinfo.i_shop : \"\";            \r\n        },\r\n    },\r\n    created() {        \r\n        this.init();        \r\n    },    \r\n    destroyed() {        \r\n        this.form = null;\r\n    },\r\n    methods: {\r\n        init() {\r\n            if (this.shopinfo) {\r\n                this.form = deepCopy(this.shopinfo);\r\n            } else {\r\n                this.form = {\r\n                    i_shop: \"\",\r\n                    n_shop: \"\",\r\n                    d_date1: \"\",\r\n                    d_date2: \"\",\r\n                    t_remark: \"\",\r\n                    t_remark2: \"\"\r\n                }\r\n            };     \r\n            if (this.$refs.form) {\r\n                this.$refs.form.resetValidation();\r\n            };\r\n        },\r\n        async save() {\r\n            this.$refs.form.validate();\r\n            await this.$nextTick();\r\n            if (!this.valid) return;\r\n            if (!this.$refs.i_shop.validate()) return;  \r\n            \r\n\t\t\tconst keys = Object.keys(this.form);\r\n\r\n            this.$emit(\"save\", this.form);\r\n        },\r\n        onClose() {\r\n            console.log(\"onClose\");\r\n        }\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopmagUpdateForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopmagUpdateForm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ShopmagUpdateForm.vue?vue&type=template&id=c008c6e6\"\nimport script from \"./ShopmagUpdateForm.vue?vue&type=script&lang=js\"\nexport * from \"./ShopmagUpdateForm.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)},\"@submit\":function($event){$event.preventDefault();return _vm.edit.apply(null, arguments)}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-data-table',{staticClass:\"elevation-1 text-no-wrap\",attrs:{\"headers\":_vm.headers,\"items\":_vm.form,\"single-select\":\"\",\"item-key\":\"i_ser\",\"items-per-page\":-1,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function({ item }){return [_c('tr',{staticClass:\"center-align\",class:{ 'row_select': item === _vm.selected},on:{\"click\":function($event){return _vm.selectItem(item)},\"dblclick\":function($event){return _vm.showRowInfo()}}},[_c('td',{class:{red2: item.f_yn==1, green2: item.f_yn == 2, blue2: item.f_yn == 3}},[_vm._v(\" \"+_vm._s(item.f_gubun == '1' ? '신청서' : item.f_gubun == '2' ? '추가정보' : '협약서')+\" \")]),_c('td',{class:{red2: item.f_yn==1, green2: item.f_yn == 2, blue2: item.f_yn == 3}},[_vm._v(\" \"+_vm._s(item.i_sort)+\" \")]),_c('td',{class:{red2: item.f_yn==1, green2: item.f_yn == 2, blue2: item.f_yn == 3}},[_vm._v(\" \"+_vm._s(item.f_yn == '1' ? '필수' : '선택')+\" \")]),_c('td',{class:{red2: item.f_yn==1, green2: item.f_yn == 2, blue2: item.f_yn == 3}},[_vm._v(\" \"+_vm._s(item.n_nm)+\" \")]),_c('td',{staticClass:\"left-align\",class:{red2: item.f_yn==1, green2: item.f_yn == 2, blue2: item.f_yn == 3}},[_vm._v(\" \"+_vm._s(item.n_file)+\" \")]),_c('td',{staticClass:\"left-align\"},[_vm._v(\" \"+_vm._s(item.t_remark)+\" \")])])]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-form @submit.prevent=\"save\" ref=\"form\" v-model=\"valid\" lazy-validation @@submit.prevent=\"edit\">\r\n        <v-data-table :headers=\"headers\"  :items=\"form\" single-select  item-key=\"i_ser\"\r\n            :items-per-page=\"-1\" hide-default-footer             \r\n            class=\"elevation-1 text-no-wrap\">\r\n            <template v-slot:item=\"{ item }\">\r\n                <tr :class=\"{ 'row_select': item === selected}\" class=\"center-align\" @click=\"selectItem(item)\" @dblclick=\"showRowInfo()\">                     \r\n                    <td :class=\"{red2: item.f_yn==1, green2: item.f_yn == 2, blue2: item.f_yn == 3}\"> {{ item.f_gubun == '1' ? '신청서' : item.f_gubun == '2' ? '추가정보' : '협약서' }} </td>                     \r\n                    <td :class=\"{red2: item.f_yn==1, green2: item.f_yn == 2, blue2: item.f_yn == 3}\"> {{ item.i_sort }} </td>\r\n                    <td :class=\"{red2: item.f_yn==1, green2: item.f_yn == 2, blue2: item.f_yn == 3}\"> {{ item.f_yn == '1' ? '필수' : '선택' }} </td>\r\n                    <td :class=\"{red2: item.f_yn==1, green2: item.f_yn == 2, blue2: item.f_yn == 3}\"> {{ item.n_nm }} </td>\r\n                    <td class=\"left-align\" :class=\"{red2: item.f_yn==1, green2: item.f_yn == 2, blue2: item.f_yn == 3}\">  {{ item.n_file }} </td>                    \r\n                    <td class=\"left-align\"> {{ item.t_remark }} </td>\r\n                </tr>\r\n            </template>\r\n        \r\n        </v-data-table>\r\n    </v-form>\r\n</template>\r\n\r\n<script>\r\nimport { deepCopy } from \"../../../../util/lib\";\r\nexport default {\r\n    name: \"ShopmagFileForm\",\r\n    props: {\r\n        addLists: {\r\n            type: Array,\r\n            default: null,\r\n        },        \r\n    },\r\n    data() {\r\n        return {\r\n            valid: true, \r\n            headers: [                \r\n                { text: '구분', value: 'f_gubun', sortable: false, width: \"60px\", fixed: true, align:'center', },\r\n                { text: '순번', value: 'i_sort', sortable: false, width: \"35px\", fixed: true,  align:'center'},                \r\n                { text: '필수', value: 'f_yn', sortable: false, width: \"50px\", fixed: true, align:'center'}, \r\n                { text: '명칭', value: 'n_nm', sortable: false, width: \"75px\", fixed: true,  align:'center'},\r\n                { text: '첨부서류', value: 'n_file', sortable: false, width: \"30%\", fixed: true, align:'center'},\r\n                { text: '파일명', value: 't_filenm', sortable: false, width: \"20%x\", fixed: true, align:'center', align:' d-none'},                \r\n                { text: '비고', value: 't_remark', sortable: false, width:\"40%\", align:'center',},                \r\n            ],\r\n            form: {\r\n                i_shop: \"\",\r\n                i_ser: \"\",\r\n                f_gubun: \"\",\r\n                f_yn: \"\",\r\n                n_nm: \"\",\r\n                n_file: \"\",\r\n                t_filenm: \"\",\r\n                t_remark: \"\",\r\n                t_sample: \"\",\r\n                i_sort: \"\",\r\n                f_del: \"\",                \r\n            },\r\n            item: null,\r\n            selected:[],\r\n        }\r\n    },\r\n    watch: {\r\n        addLists() {\r\n            this.init();\r\n        }\r\n    },\r\n    created() {\r\n        this.init();\r\n    },\r\n    methods: {\r\n        init() {\r\n            if (this.addLists) {this.form = deepCopy(this.addLists);}\r\n        },\r\n        async selectItem(item) {\r\n            if (this.selected == item) return;\r\n            this.selected = item;\r\n            \r\n        },\r\n        async showRowInfo() {\r\n            if (this.selected) this.$emit(\"edit\", this.selected );    \r\n            \r\n        },\r\n      \r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopmagFileForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopmagFileForm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ShopmagFileForm.vue?vue&type=template&id=5922bb8a\"\nimport script from \"./ShopmagFileForm.vue?vue&type=script&lang=js\"\nexport * from \"./ShopmagFileForm.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-responsive',{staticClass:\"ma-0 pa-0\",attrs:{\"width\":\"60px\"}},[_c('v-text-field',{attrs:{\"label\":\"순번 : \",\"type\":\"number\"},model:{value:(_vm.form.i_sort),callback:function ($$v) {_vm.$set(_vm.form, \"i_sort\", $$v)},expression:\"form.i_sort\"}})],1),_c('v-radio-group',{attrs:{\"label\":\"필수 : \",\"row\":\"\"},model:{value:(_vm.form.f_yn),callback:function ($$v) {_vm.$set(_vm.form, \"f_yn\", $$v)},expression:\"form.f_yn\"}},[_c('v-radio',{attrs:{\"label\":\"필수\",\"value\":\"1\"}}),_c('v-radio',{attrs:{\"label\":\"선택\",\"value\":\"0\"}})],1),_c('v-text-field',{attrs:{\"label\":\"명칭 : \"},model:{value:(_vm.form.n_nm),callback:function ($$v) {_vm.$set(_vm.form, \"n_nm\", $$v)},expression:\"form.n_nm\"}}),_c('v-text-field',{attrs:{\"label\":\"첨부서류 : \"},model:{value:(_vm.form.n_file),callback:function ($$v) {_vm.$set(_vm.form, \"n_file\", $$v)},expression:\"form.n_file\"}}),_c('div',{staticClass:\"d-flex align-center\"},[_c('v-text-field',{attrs:{\"label\":\"첨부(양식)\",\"readonly\":\"\"},on:{\"dblclick\":function($event){return _vm.downLoad()}},model:{value:(_vm.form.t_filenm),callback:function ($$v) {_vm.$set(_vm.form, \"t_filenm\", $$v)},expression:\"form.t_filenm\"}}),_c('v-file-input',{attrs:{\"label\":\"첨부변경\",\"prepend-icon\":null,\"multiple\":false},on:{\"change\":function($event){return _vm.getFilename($event)}},model:{value:(_vm.form.t_image),callback:function ($$v) {_vm.$set(_vm.form, \"t_image\", $$v)},expression:\"form.t_image\"}}),(_vm.form.t_filenm)?_c('v-checkbox',{attrs:{\"label\":\"삭제\"},model:{value:(_vm.form.f_del),callback:function ($$v) {_vm.$set(_vm.form, \"f_del\", $$v)},expression:\"form.f_del\"}}):_vm._e()],1),_c('v-textarea',{attrs:{\"label\":\"설명 : \"},model:{value:(_vm.form.t_remark),callback:function ($$v) {_vm.$set(_vm.form, \"t_remark\", $$v)},expression:\"form.t_remark\"}}),_c('v-btn',{attrs:{\"type\":\"submit\",\"block\":\"\",\"color\":\"primary\",\"loading\":_vm.isLoading}},[_vm._v(_vm._s(_vm.isNew?'추 가':'수 정'))]),(!_vm.isNew)?_c('v-btn',{attrs:{\"block\":\"\",\"loading\":_vm.isLoading},on:{\"click\":_vm.onDelete}},[_vm._v(\"삭 제\")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-form @submit.prevent=\"save\" ref=\"form\" v-model=\"valid\" lazy-validation>\r\n        \r\n        <v-responsive class=\"ma-0 pa-0\" width=\"60px\">\r\n            <v-text-field label=\"순번 : \" type=\"number\" v-model=\"form.i_sort\" />\r\n        </v-responsive>\r\n        <v-radio-group label=\"필수 : \" row v-model=\"form.f_yn\">\r\n            <v-radio label=\"필수\" value=\"1\"></v-radio>\r\n            <v-radio label=\"선택\" value=\"0\"></v-radio>\r\n        </v-radio-group>\r\n        <v-text-field label=\"명칭 : \" v-model=\"form.n_nm\" />\r\n        <v-text-field label=\"첨부서류 : \" v-model=\"form.n_file\"  />\r\n        <div class=\"d-flex align-center\">            \r\n            <v-text-field label=\"첨부(양식)\" v-model=\"form.t_filenm\" readonly @dblclick=\"downLoad()\" />\r\n            <v-file-input label=\"첨부변경\" v-model=\"form.t_image\"\r\n               :prepend-icon=\"null\" :multiple=\"false\"  @change=\"getFilename($event)\" /> \r\n            <v-checkbox v-if=\"form.t_filenm\" label=\"삭제\" v-model=\"form.f_del\" > </v-checkbox>\r\n        </div>\r\n        <v-textarea label=\"설명 : \" v-model=\"form.t_remark\" />\r\n        <v-btn type=\"submit\" block color=\"primary\" :loading=\"isLoading\">{{isNew?'추  가':'수  정'}}</v-btn>\r\n        <v-btn block @click=\"onDelete\" :loading=\"isLoading\" v-if=!isNew>삭 제</v-btn> \r\n    </v-form>\r\n</template>\r\n\r\n<script>\r\nimport { deepCopy } from '../../../../util/lib';\r\nimport { save } from 'save-file';\r\nimport validateRules from \"../../../../util/validateRules\";\r\nexport default {\r\n    name: \"ShopmagFileAddForm\",\r\n    props: {\r\n        isNew : Boolean, \r\n        isLoading : Boolean,\r\n        i_sort_max : 0,\r\n        fgubun : null,\r\n        addFileInfo: {\r\n            type: Object,\r\n            default: null,\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            valid: true,\r\n            form: {\r\n                i_shop: \"\",\r\n                i_ser: \"\",\r\n                f_gubun: \"\",\r\n                f_yn: \"\",\r\n                n_nm: \"\",\r\n                n_file: \"\",\r\n                t_filenm: \"\",\r\n                t_remark: \"\",\r\n                t_sample: null,\r\n                i_sort : 0,\r\n                f_del: null,\r\n                t_image: null,\r\n            },            \r\n        }\r\n    },\r\n    created() {        \r\n        this.init();        \r\n    },    \r\n    destroyed() {        \r\n        this.form = null;\r\n    },\r\n    watch: {        \r\n        addFileInfo() { this.init(); },\r\n        fgubun() { this.init(); },\r\n        i_sort_max() { this.init(); },\r\n        isNew() { this.init(); },\r\n    },\r\n    computed: {\r\n        rules: () => validateRules,        \r\n    },\r\n    methods: {\r\n        init() {            \r\n            if (this.addFileInfo) {                \r\n                this.form = deepCopy(this.addFileInfo);\r\n            } else {                \r\n                this.form = {\r\n                    i_shop: \"\",\r\n                    i_ser: 0,\r\n                    f_gubun: this.fgubun.toString(),\r\n                    f_yn: '1',\r\n                    n_nm: \"\",\r\n                    n_file: \"\",\r\n                    t_filenm: \"\",\r\n                    t_remark: \"\",\r\n                    t_sample: null,\r\n                    i_sort: this.i_sort_max + 1,\r\n                    f_del: null,\r\n                    t_image: null,\r\n                }\r\n            };     \r\n            if (this.$refs.form) this.$refs.form.resetValidation();\r\n        },\r\n        async save() {\r\n            const formData = new FormData();\r\n\t\t\tconst keys = Object.keys(this.form);\r\n            for (const key of keys) {\r\n                formData.append(key, this.form[key]);\r\n            };\r\n            this.$emit(\"save\", formData);\r\n        },\r\n        async onDelete() {\r\n             const res = await this.$ezNotify.confirm(\"삭제 하시겠습니까 ?\", this.form.n_file);\r\n             if (res) {\r\n                this.$emit('onDelete', this.form);\r\n             }             \r\n        },\r\n        async getFilename(files, item) {\r\n            if (files) {        \r\n                this.form.t_sample = files.name;\r\n                this.form.f_del = null;\r\n            }\r\n        },\r\n        async downLoad() {\r\n            if(this.form.t_sample && this.form.t_filenm) {                \r\n                const fileName = `https://anfmc.kro.kr${this.form.t_sample}`;\r\n                const downFile = this.form.t_filenm;\r\n\r\n                const fileBuffer = await this.$axios.get(`/api/shopinfo/getFileDown?path=${ this.form.t_sample }`);            \r\n                if (fileBuffer) {\r\n                    save (fileBuffer, downFile);                \r\n                    alert('File Donw load Click !!!!!'); \r\n                } else {\r\n                    await this.$ezNotify.alert(\"다운로드 실패 !!\", \"오류\" );\r\n                }\r\n            }\r\n        },\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopmagFileAddForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopmagFileAddForm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ShopmagFileAddForm.vue?vue&type=template&id=791dd775\"\nimport script from \"./ShopmagFileAddForm.vue?vue&type=script&lang=js\"\nexport * from \"./ShopmagFileAddForm.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <v-container fluid>\r\n        <v-toolbar height=\"40px\" background-color=\"primary\" dark>\r\n            <v-toolbar-title>사업관리</v-toolbar-title>\r\n            <v-spacer/>           \r\n            <tooltip-btn v-if=\"this.tabs==0 &&  this.$store.state.user.member.i_level > 9\" fab small label=\"사업추가\" @click=\"addShop\">\r\n                <v-icon>mdi-plus</v-icon>\r\n            </tooltip-btn>\r\n            <tooltip-btn v-if=\"this.tabs>=1\" fab small label=\"첨부 서류 추가\" @click=\"addFile\">\r\n                <v-icon>mdi-arrow-up-bold-box-outline</v-icon>\r\n            </tooltip-btn>\r\n        </v-toolbar>\r\n\r\n        <v-tabs v-model=\"tabs\" background-color=\"primary\" dark height=\"35px\">\r\n            <v-tab value=\"tbapage_1\" style=\"flex: 1\" >사업 내역</v-tab>\r\n            <v-tab value=\"tbapage_2\"  >신청 서류</v-tab>            \r\n            <v-tab value=\"tbapage_3\"  >추가 서류</v-tab>\r\n            <v-tab value=\"tbapage_4\"  >협약서 서류</v-tab>\r\n        </v-tabs>\r\n        <v-card-text>\r\n            <v-tabs-items v-model=\"tabs\"> \r\n                <v-tab-item>\r\n                    <v-data-table ref=\"shop-table\" :headers=\"itemShopHead\" :items=\"itemShops\"                     \r\n                        item-key=\"i_shop\" single-select @click:row=\"rowSelectitemShop\" @dblclick:row=\"rowShopitemSet\"\r\n                        :items-per-page=\"-1\"  hide-default-footer class=\"elevation-1 text-no-wrap\"  :height=iframeHeight >\r\n                        <template v-slot:[`item.t_remark`]=\"{ item }\"> <div class=\"left-align\"> {{ item.t_remark }}</div></template>\r\n                    </v-data-table>\r\n                </v-tab-item>\r\n                \r\n                <v-tab-item v-if=\"this.itemShopRow>=0\"><shopmag-file-form :addLists=\"this.fileAddsA\" @edit=\"addFile\"></shopmag-file-form></v-tab-item>\r\n                <v-tab-item v-if=\"this.itemShopRow>=0\"><shopmag-file-form :addLists=\"this.fileAddsB\" @edit=\"addFile\"></shopmag-file-form></v-tab-item>\r\n                <v-tab-item v-if=\"this.itemShopRow>=0\"><shopmag-file-form :addLists=\"this.fileAddsC\" @edit=\"addFile\"></shopmag-file-form></v-tab-item>\r\n                \r\n                \r\n            </v-tabs-items>\r\n        </v-card-text>  \r\n        \r\n        <ez-dialog label=\"사업 추가 / 수정\" ref=\"dialog_shop\" max-width=\"400\" dark color=\"primary\" persistent>\r\n            <shopmag-update-form :isNew=\"isNew\" :shopinfo=\"itemShop\" :cbShopId=\"cbShopIdChk\" @save=\"save1\"> \r\n\r\n            </shopmag-update-form>\r\n        </ez-dialog>\r\n        <ez-dialog :label=\"AddFileTitle()\" ref=\"dialog_file\" max-width=\"400\" dark color=\"primary\" persistent>\r\n            <shopmag-file-add-form :addFileInfo=\"fileAdd\" :isNew=\"isAddNew\" :isLoading=\"isLoading\" :i_sort_max=\"i_sort_max\" :fgubun=\"this.tabs\"\r\n                @save=\"save2\" @onDelete=\"onDelete\">\r\n            </shopmag-file-add-form>\r\n        </ez-dialog>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nimport TooltipBtn from '@/components/etc/TooltipBtn.vue';\r\nimport EzDialog from '@/components/etc/EzDialog.vue';\r\nimport ShopmagUpdateForm from './shop_form/ShopmagUpdateForm.vue';\r\nimport ShopmagFileForm from './shop_form/ShopmagFileForm.vue';\r\nimport { deepCopy } from \"../../../util/lib\";\r\nimport ShopmagFileAddForm from './shop_form/ShopmagFileAddForm.vue';\r\n\r\nexport default {\r\n  components: { TooltipBtn, EzDialog, ShopmagUpdateForm, ShopmagFileForm, ShopmagFileAddForm },\r\n    name: \"ShopMag\",\r\n    data() {\r\n        return {\r\n            tabs: 0,\r\n            iframeHeight: 500, // 초기 높이 설정 (원하는 높이로 초기화)\r\n            isLoading: false,\r\n            isNew: false,\r\n            itemShops: [], itemShop:[], itemShopRow: -1,\r\n            itemShopHead: [\r\n                { text: '신청번호',  value: 'i_shop', sortable: false, width: \"100px\", fixed: true, align:'center'},\r\n                { text: '사업명',   value: 'n_shop', sortable: false,  width:\"35%\", align:'center'},\r\n                { text: '사업시작', value: 'd_date1', sortable: false, width: \"150px\", fixed: true, align:'center'}, \r\n                { text: '사업종료', value: 'd_date2', sortable: false, width: \"150px\", fixed: true, align:'center'},\r\n                { text: '비고', value: 't_remark', sortable: false, width:\"35%\",  align:'center'}  \r\n            ],\r\n            idx: -1,\r\n            isAddNew: true,\r\n            fileAdd: null, fileAddsA: [], fileAddsB: [], fileAddsC: [],\r\n            i_sort_max: 0,\r\n        }\r\n    },\r\n    mounted() {\r\n        // 창 크기가 변경될 때마다 iframe의 높이를 조정\r\n        window.addEventListener('resize', this.adjustIframeHeight);\r\n        this.adjustIframeHeight(); // 초기 조정 \r\n        this.fetchData();\r\n    },\r\n    beforeDestroy() {\r\n        // 컴포넌트가 파기될 때 리스너 제거\r\n        window.removeEventListener('resize', this.adjustIframeHeight);\r\n    },\r\n    watch: {\r\n        async tabs() {\r\n            // const data = await this.$axios.post(\"/api/shopinfo/shopInfoSave\", form);\r\n            if (this.tabs < 1) return;\r\n            const payload = {\r\n                i_shop: this.itemShop.i_shop,\r\n                f_gubun: this.tabs.toString(),    \r\n                sortBy: \"i_sort, i_ser desc\",\r\n            };\r\n            if ( this.tabs === 1) {\r\n                this.fileAddsA = await this.$axios.post(`/api/shopinfo/getShopMagFile`, payload);\r\n            }\r\n            if ( this.tabs === 2) {\r\n                this.fileAddsB = await this.$axios.post(`/api/shopinfo/getShopMagFile`, payload);\r\n            }\r\n            if ( this.tabs === 3) {\r\n                this.fileAddsC = await this.$axios.post(`/api/shopinfo/getShopMagFile`, payload);\r\n            } \r\n        }        \r\n    },\r\n    computed: {\r\n        \r\n    },\r\n    methods: {\r\n        AddFileTitle() {\r\n            return this.tabs == 1 ? '신청 서류' : this.tabs == 2 ? ' 추가 서류' : '협약서 서류' \r\n        },\r\n        adjustIframeHeight() {\r\n        // 브라우저 창의 높이를 iframe의 높이로 설정\r\n            const windowHeight = window.innerHeight;\r\n            this.iframeHeight = windowHeight - 200;           \r\n        },\r\n        async fetchData() {\r\n            this.itemShops = await this.$axios.get(\"/api/shopinfo/getShopMag\");\r\n        },\r\n        async addShop() {\r\n            this.isNew = true;\r\n            this.itemShop = null;\r\n            this.$refs.dialog_shop.open();\r\n        },\r\n        \r\n        rowSelectitemShop :function (item, row) {\r\n            this.selected = item;\r\n            row.select(true)\r\n            if (this.itemShop == item) return;            \r\n            this.itemShop = item;\r\n            this.itemShopRow = row.index;           \r\n\r\n        },\r\n        rowShopitemSet(row) {\r\n            if(!this.itemShop) return;\r\n            \r\n            this.isNew = false;\r\n            this.$refs.dialog_shop.open();\r\n        },\r\n        async cbShopIdChk(value) {\r\n            const payload = {\r\n                field: \"i_shop\",\r\n                value,\r\n            };\r\n            return await this.$axios.post(\"/api/shopinfo/duplicateCheckShop\", payload);\r\n        },\r\n        async save1(form) {\r\n            const data = await this.$axios.post(\"/api/shopinfo/shopInfoSave\", form);\r\n            if (data.affectedRows == 1 || data.affectedRows == 2) {\r\n                this.$toast.info(`${form.i_shop} ` +  `${this.isNew ? '추가' : '수정'} ` +  ` 하였습니다.`); \r\n                const idx = this.itemShops.indexOf(this.itemShop);\r\n                if (idx >= 0) {\r\n                    this.itemShops.splice(idx, 1, form);\r\n                } else {\r\n                    const idx = this.itemShops.push(form);\r\n                }                \r\n            }\r\n            this.$refs.dialog_shop.close();\r\n        },\r\n\r\n        async addFile(item) {\r\n            if (!item) {\r\n                this.getSortMax(this.tabs);  \r\n                this.isAddNew = true; \r\n                this.fileAdd = null;\r\n            } else {                \r\n                this.fileAdd = deepCopy(item); \r\n                this.isAddNew = false;\r\n            }\r\n            this.$refs.dialog_file.open();\r\n        },\r\n        getSortMax(gubun) {\r\n            this.i_sort_max = 0;\r\n            if ( gubun == 1 ) {\r\n                if (this.fileAddsA) {\r\n                    for(let ob in this.fileAddsA) {\r\n                        if (this.fileAddsA[ob].i_sort > this.i_sort_max) this.i_sort_max = this.fileAddsA[ob].i_sort;\r\n                    }\r\n                }\r\n            } else if( gubun == 2 ) {\r\n                if (this.fileAddsB) {\r\n                    for(let ob in this.fileAddsB) {\r\n                        if (this.fileAddsB[ob].i_sort > this.i_sort_max) this.i_sort_max = this.fileAddsB[ob].i_sort;\r\n                    }\r\n                }                \r\n            } else if( gubun == 3 ) { \r\n                if (this.fileAddsC) {\r\n                    for(let ob in this.fileAddsC) {\r\n                        if (this.fileAddsC[ob].i_sort > this.i_sort_max) this.i_sort_max = this.fileAddsC[ob].i_sort;\r\n                    }\r\n                }\r\n            } else (this.i_sort_max = 0)\r\n        },\r\n        async save2(form) {            \r\n            form.append(\"isNew\", this.isAddNew);\r\n            form.append(\"i_shop_select\", this.itemShop.i_shop);            \r\n            \r\n            const i_ser = await this.$axios.post(`/api/shopinfo/shopAddFile`, form); \r\n\r\n            if (i_ser > 0) {\r\n                this.$toast.info(`${ this.isAddNew ? '추가' : '수정'} 하여습니다.`);\r\n                await this.reloadFile();\r\n            }\r\n            this.$refs.dialog_file.close();\r\n        },\r\n        async onDelete(form) {                     \r\n            const data = await $axios.post(`/api/shopinfo/shopAddFileDelete`, form);\r\n            if (data) {\r\n                this.$toast.info(`삭제 하여습니다.`);\r\n                await this.reloadFile();\r\n            }            \r\n            this.$refs.dialog_file.close();\r\n        },\r\n        async reloadFile() {\r\n            const payload = {\r\n                i_shop: this.itemShop.i_shop,\r\n                f_gubun: this.tabs.toString(),    \r\n                sortBy: \"i_sort, i_ser desc\",\r\n            }; \r\n            if ( this.tabs === 1) {\r\n                this.fileAddsA = await this.$axios.post(`/api/shopinfo/getShopMagFile`, payload);\r\n            }\r\n            if ( this.tabs === 2) {\r\n                this.fileAddsB = await this.$axios.post(`/api/shopinfo/getShopMagFile`, payload);\r\n            }\r\n            if ( this.tabs === 3) {\r\n                this.fileAddsC = await this.$axios.post(`/api/shopinfo/getShopMagFile`, payload);\r\n            } \r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shopmagview.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shopmagview.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Shopmagview.vue?vue&type=template&id=852c0cc2\"\nimport script from \"./Shopmagview.vue?vue&type=script&lang=js\"\nexport * from \"./Shopmagview.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({class:_vm.childClass,on:{\"click\":function($event){return _vm.$emit('click')}}},'v-btn',{ ...attrs, ..._vm.$attrs },false),on),[_vm._t(\"default\")],2)]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.label))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-tooltip top>\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn\n        v-on=\"on\"\n        v-bind=\"{ ...attrs, ...$attrs }\"\n        :class=\"childClass\"\n        @click=\"$emit('click')\"\n      >\n        <slot></slot>\n      </v-btn>\n    </template>\n    <span>{{ label }}</span>\n  </v-tooltip>\n</template>\n\n<script>\nexport default {\n  name: \"TooltipBtn\",\n  props: {\n    label: {\n      type: String,\n      required: true,\n    },\n    childClass: [String, Object],\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipBtn.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipBtn.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TooltipBtn.vue?vue&type=template&id=3ebf7b7c\"\nimport script from \"./TooltipBtn.vue?vue&type=script&lang=js\"\nexport * from \"./TooltipBtn.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',_vm._b({model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},'v-dialog',_vm.$attrs,false),[_c('v-card',[_c('v-toolbar',[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.label))]),_c('v-spacer'),(_vm.obtn)?_c('v-btn',{attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":_vm.btnClick}},[_vm._v(\" \"+_vm._s(_vm.obtn)+\" \")]):_vm._e(),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.close}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-card-text',[_vm._t(\"default\")],2)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"dialog\" v-bind=\"$attrs\">\n    <v-card>\n      <v-toolbar>\n        <v-toolbar-title>{{ label }}</v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-btn v-if=\"obtn\" color=\"primary\" small @click=\"btnClick\"> {{ obtn }} </v-btn> \n        <v-btn icon @click=\"close\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-toolbar>\n      <v-card-text>\n        <slot></slot>\n      </v-card-text>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"ezDialog\",\n  props: {\n    label: {\n      type: String,\n      required: true,\n    },\n    obtn: {\n      type: String,\n    }\n  },\n  data() {\n    return {\n      dialog: false,\n    };\n  },\n  methods: {\n    close() {\n      this.dialog = false;\n\t\t\tthis.$emit('onClose');      \n    },\n    open() {\n\t\t\tthis.$emit('onOpen');\n      this.dialog = true;\n    },\n    btnClick() {\n      this.dialog = false;\n\t\t\tthis.$emit('btnClick');      \n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EzDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EzDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EzDialog.vue?vue&type=template&id=05c98a07\"\nimport script from \"./EzDialog.vue?vue&type=script&lang=js\"\nexport * from \"./EzDialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}